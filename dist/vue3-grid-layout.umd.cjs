(function(Tt,g){typeof exports=="object"&&typeof module<"u"?g(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],g):(Tt=typeof globalThis<"u"?globalThis:Tt||self,g(Tt["vue3-gird-layout"]={},Tt.Vue))})(this,function(Tt,g){"use strict";function Mi(e){let t=0,n;for(let i=0,o=e.length;i<o;i++)n=e[i].y+e[i].h,n>t&&(t=n);return t}function Be(e){const t=Array(e.length);for(let n=0,i=e.length;n<i;n++)t[n]=Ci(e[n]);return t}function Ci(e){return JSON.parse(JSON.stringify(e))}function pn(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function Qt(e,t,n){const i=vn(e),o=bn(e),r=Array(e.length);for(let a=0,s=o.length;a<s;a++){let c=o[a];c.static||(c=_i(i,c,t,n),i.push(c)),r[e.indexOf(c)]=c,c.moved=!1}return r}function _i(e,t,n,i){if(n)for(;t.y>0&&!ie(e,t);)t.y--;else if(i){const r=i[t.i].y;for(;t.y>r&&!ie(e,t);)t.y--}let o;for(;o=ie(e,t);)t.y=o.y+o.h;return t}function Di(e,t){const n=vn(e);for(let i=0,o=e.length;i<o;i++){const r=e[i];if(r.x+r.w>t.cols&&(r.x=t.cols-r.w),r.x<0&&(r.x=0,r.w=t.cols),!r.static)n.push(r);else for(;ie(n,r);)r.y++}return e}function gn(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n].i===t)return e[n]}function ie(e,t){for(let n=0,i=e.length;n<i;n++)if(pn(e[n],t))return e[n]}function mn(e,t){return e.filter(n=>pn(n,t))}function vn(e){return e.filter(t=>t.static)}function $e(e,t,n,i,o,r){if(t.static)return e;const a=t.x,s=t.y,c=i&&t.y>i;typeof n=="number"&&(t.x=n),typeof i=="number"&&(t.y=i),t.moved=!0;let l=bn(e);c&&(l=l.reverse());const u=mn(l,t);if(r&&u.length)return t.x=a,t.y=s,t.moved=!1,e;for(let d=0,p=u.length;d<p;d++){const b=u[d];b.moved||t.y>b.y&&t.y-b.y>b.h/4||(b.static?e=yn(e,b,t,o):e=yn(e,t,b,o))}return e}function yn(e,t,n,i){if(i){const r={x:n.x,y:n.y,w:n.w,h:n.h,i:"-1"};if(r.y=Math.max(t.y-n.h,0),!ie(e,r))return $e(e,n,void 0,r.y,!1)}return $e(e,n,void 0,n.y+1,!1)}function Pi(e,t,n,i){const o="translate3d("+t+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:n+"px",height:i+"px",position:"absolute"}}function Oi(e,t,n,i){const o="translate3d("+t*-1+"px,"+e+"px, 0)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:n+"px",height:i+"px",position:"absolute"}}function ki(e,t,n,i){return{top:e+"px",left:t+"px",width:n+"px",height:i+"px",position:"absolute"}}function Ri(e,t,n,i){return{top:e+"px",right:t+"px",width:n+"px",height:i+"px",position:"absolute"}}function bn(e){return[].concat(e).sort(function(n,i){return n.y===i.y&&n.x===i.x?0:n.y>i.y||n.y===i.y&&n.x>i.x?1:-1})}function Ai(e,t){t=t||"Layout";const n=["x","y","w","h"],i=[];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let o=0,r=e.length;o<r;o++){const a=e[o];for(let s=0;s<n.length;s++)if(typeof a[n[s]]!="number")throw new Error("VueGridLayout: "+t+"["+o+"]."+n[s]+" must be a number!");if(a.i===void 0||a.i===null)throw new Error("VueGridLayout: "+t+"["+o+"].i cannot be null!");if(typeof a.i!="number"&&typeof a.i!="string")throw new Error("VueGridLayout: "+t+"["+o+"].i must be a string or number!");if(i.indexOf(a.i)>=0)throw new Error("VueGridLayout: "+t+"["+o+"].i must be unique!");if(i.push(a.i),a.static!==void 0&&typeof a.static!="boolean")throw new Error("VueGridLayout: "+t+"["+o+"].static must be a boolean!")}}function xn(e){return Hi(e)}function Hi(e){const t=e.target,n=t.offsetParent||document.body,i=t.offsetParent===document.body?{left:0,top:0}:n.getBoundingClientRect(),o=e.clientX+n.scrollLeft-i.left,r=e.clientY+n.scrollTop-i.top;return{x:o,y:r}}function xe(e,t,n,i){return Bi(e)?{deltaX:n-e,deltaY:i-t,lastX:e,lastY:t,x:n,y:i}:{deltaX:0,deltaY:0,lastX:n,lastY:i,x:n,y:i}}function Bi(e){return typeof e=="number"&&!isNaN(e)}function $i(e,t){const n=wn(e);let i=n[0];for(let o=1,r=n.length;o<r;o++){const a=n[o];t>e[a]&&(i=a)}return i}function Le(e,t){if(!t[e])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function Li(e,t,n,i,o,r,a){if(t[i])return Be(t[i]);let s=e;const c=wn(n),l=c.slice(c.indexOf(i));for(let u=0,d=l.length;u<d;u++){const p=l[u];if(t[p]){s=t[p];break}}return s=Be(s||[]),Qt(Di(s,{cols:r}),a)}function wn(e){return Object.keys(e).sort(function(n,i){return e[n]-e[i]})}let Ni="auto";function Wi(){return typeof document<"u"}function En(){return typeof window<"u"}function Sn(){return Wi()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir")||"auto":Ni}function Fi(e,t){return En?(window.addEventListener(e,t),!0):(t(),!1)}function ji(e,t){En&&window.removeEventListener(e,t)}const U={init:Xi,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function te(){}function Xi(e){const t=e;U.document=t.document,U.DocumentFragment=t.DocumentFragment||te,U.SVGElement=t.SVGElement||te,U.SVGSVGElement=t.SVGSVGElement||te,U.SVGElementInstance=t.SVGElementInstance||te,U.Element=t.Element||te,U.HTMLElement=t.HTMLElement||U.Element,U.Event=t.Event,U.Touch=t.Touch||te,U.PointerEvent=t.PointerEvent||t.MSPointerEvent}var Tn=e=>!!(e&&e.Window)&&e instanceof e.Window;let zn,kt;function In(e){zn=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),kt=e}typeof window<"u"&&window&&In(window);function Ft(e){return Tn(e)?e:(e.ownerDocument||e).defaultView||kt.window}const Yi=e=>e===kt||Tn(e),Gi=e=>we(e)&&e.nodeType===11,we=e=>!!e&&typeof e=="object",Mn=e=>typeof e=="function";var m={window:Yi,docFrag:Gi,object:we,func:Mn,number:e=>typeof e=="number",bool:e=>typeof e=="boolean",string:e=>typeof e=="string",element:e=>{if(!e||typeof e!="object")return!1;const t=Ft(e)||kt;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:e=>we(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),array:e=>we(e)&&typeof e.length<"u"&&Mn(e.splice)};const Q={init:qi,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function qi(e){const t=U.Element,n=e.navigator||{};Q.supportsTouch="ontouchstart"in e||m.func(e.DocumentTouch)&&U.document instanceof e.DocumentTouch,Q.supportsPointerEvent=n.pointerEnabled!==!1&&!!U.PointerEvent,Q.isIOS=/iP(hone|od|ad)/.test(n.platform),Q.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),Q.isIe9=/MSIE 9/.test(n.userAgent),Q.isOperaMobile=n.appName==="Opera"&&Q.supportsTouch&&/Presto/.test(n.userAgent),Q.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",Q.pEventTypes=Q.supportsPointerEvent?U.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Q.wheelEvent=U.document&&"onmousewheel"in U.document?"mousewheel":"wheel"}function jt(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Cn(e,t){for(;m.element(e);){if(Xt(e,t))return e;e=Rt(e)}return null}function Rt(e){let t=e.parentNode;if(m.docFrag(t)){for(;(t=t.host)&&m.docFrag(t););return t}return t}function Xt(e,t){return kt!==zn&&(t=t.replace(/\/deep\//g," ")),e[Q.prefixedMatchesSelector](t)}function Ne(e,t,n){for(;m.element(e);){if(Xt(e,t))return!0;if(e=Rt(e),e===n)return Xt(e,t)}return!1}function _n(e){return e.correspondingUseElement||e}function Ui(e){return e=e||kt,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function We(e){const t=e instanceof U.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Fe(e){const t=We(e);if(!Q.isIOS7&&t){const n=Ui(Ft(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function Dn(e){return m.string(e)?(U.document.querySelector(e),!0):!1}function D(e,t){for(const i in t)e[i]=t[i];return e}function oe(e,t){let n=!1;return function(){return n||(kt.console.warn(t),n=!0),e.apply(this,arguments)}}function Pn(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function Vi(e){const{Interactable:t}=e;t.prototype.getAction=function(i,o,r,a){const s=Ki(this,o,r,a,e);return this.options.actionChecker?this.options.actionChecker(i,o,s,this,a,r):s},t.prototype.ignoreFrom=oe(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=oe(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Zi,t.prototype.styleCursor=Ji}function Ki(e,t,n,i,o){const r=e.getRect(i),a=t.buttons||{0:1,1:4,3:8,4:16}[t.button],s={action:null,interactable:e,interaction:n,element:i,rect:r,buttons:a};return o.fire("auto-start:check",s),s.action}function Ji(e){return m.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Zi(e){return m.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Qi={id:"auto-start/interactableMethods",install:Vi};function to(e){const{interactStatic:t,defaults:n}=e;e.usePlugin(Qi),n.base.actionChecker=null,n.base.styleCursor=!0,D(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=i=>An(i,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ee,cursorElement:null}}function eo(e,t){let{interaction:n,pointer:i,event:o,eventTarget:r}=e;if(n.interacting())return;const a=kn(n,i,o,r,t);Rn(n,a,t)}function no(e,t){let{interaction:n,pointer:i,event:o,eventTarget:r}=e;if(n.pointerType!=="mouse"||n.pointerIsDown||n.interacting())return;const a=kn(n,i,o,r,t);Rn(n,a,t)}function io(e,t){const{interaction:n}=e;if(!n.pointerIsDown||n.interacting()||!n.pointerWasMoved||!n.prepared.name)return;t.fire("autoStart:before-start",e);const{interactable:i}=n,o=n.prepared.name;o&&i&&(i.options[o].manualStart||!Ee(i,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,i,n.element),Hn(n,t)))}function oo(e,t){let{interaction:n}=e;const{interactable:i}=n;i&&i.options.styleCursor&&je(n.element,"",t)}function On(e,t,n,i,o){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&Ee(t,n,e,o)?e:null}function ro(e,t,n,i,o,r,a){for(let s=0,c=i.length;s<c;s++){const l=i[s],u=o[s],d=l.getAction(t,n,e,u);if(!d)continue;const p=On(d,l,u,r,a);if(p)return{action:p,interactable:l,element:u}}return{action:null,interactable:null,element:null}}function kn(e,t,n,i,o){let r=[],a=[],s=i;function c(l){r.push(l),a.push(s)}for(;m.element(s);){r=[],a=[],o.interactables.forEachMatch(s,c);const l=ro(e,t,n,r,a,i,o);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=Rt(s)}return{action:null,interactable:null,element:null}}function Rn(e,t,n){let{action:i,interactable:o,element:r}=t;i=i||{name:null},e.interactable=o,e.element=r,Pn(e.prepared,i),e.rect=o&&i.name?o.getRect(r):null,Hn(e,n),n.fire("autoStart:prepared",{interaction:e})}function Ee(e,t,n,i){const o=e.options,r=o[n.name].max,a=o[n.name].maxPerElement,s=i.autoStart.maxInteractions;let c=0,l=0,u=0;if(!(r&&a&&s))return!1;for(const d of i.interactions.list){const p=d.prepared.name;if(d.interacting()){if(c++,c>=s)return!1;if(d.interactable===e&&(l+=p===n.name?1:0,l>=r||d.element===t&&(u++,p===n.name&&u>=a)))return!1}}return s>0}function An(e,t){return m.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function je(e,t,n){const{cursorElement:i}=n.autoStart;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Hn(e,t){const{interactable:n,element:i,prepared:o}=e;if(!(e.pointerType==="mouse"&&n&&n.options.styleCursor)){t.autoStart.cursorElement&&je(t.autoStart.cursorElement,"",t);return}let r="";if(o.name){const a=n.options[o.name].cursorChecker;m.func(a)?r=a(o,n,i,e._interacting):r=t.actions.map[o.name].getCursor(o)}je(e.element,r||"",t)}const Xe={id:"auto-start/base",before:["actions"],install:to,listeners:{"interactions:down":eo,"interactions:move":(e,t)=>{no(e,t),io(e,t)},"interactions:stop":oo},maxInteractions:An,withinInteractionLimit:Ee,validateAction:On};function so(e,t){let{interaction:n,eventTarget:i,dx:o,dy:r}=e;if(n.prepared.name!=="drag")return;const a=Math.abs(o),s=Math.abs(r),c=n.interactable.options.drag,l=c.startAxis,u=a>s?"x":a<s?"y":"xy";if(n.prepared.axis=c.lockAxis==="start"?u[0]:c.lockAxis,u!=="xy"&&l!=="xy"&&l!==u){n.prepared.name=null;let d=i;const p=function(b){if(b===n.interactable)return;const w=n.interactable.options.drag;if(!w.manualStart&&b.testIgnoreAllow(w,d,i)){const M=b.getAction(n.downPointer,n.downEvent,n,d);if(M&&M.name==="drag"&&ao(u,b)&&Xe.validateAction(M,b,d,i,t))return b}};for(;m.element(d);){const b=t.interactables.forEachMatch(d,p);if(b){n.prepared.name="drag",n.interactable=b,n.element=d;break}d=Rt(d)}}}function ao(e,t){if(!t)return!1;const n=t.options.drag.startAxis;return e==="xy"||n==="xy"||n===e}var lo={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":so}};function co(e){const{defaults:t}=e;e.usePlugin(Xe),t.perAction.hold=0,t.perAction.delay=0}function Ye(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const n=e.interactable.options;return n[t].hold||n[t].delay}const uo={id:"auto-start/hold",install:co,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.autoStartHoldTimer=null},"autoStart:prepared":e=>{let{interaction:t}=e;const n=Ye(t);n>0&&(t.autoStartHoldTimer=setTimeout(()=>{t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":e=>{let{interaction:t,duplicate:n}=e;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":e=>{let{interaction:t}=e;Ye(t)>0&&(t.prepared.name=null)}},getHoldDuration:Ye};var fo={id:"auto-start",install(e){e.usePlugin(Xe),e.usePlugin(uo),e.usePlugin(lo)}};const Bn=(e,t)=>{for(const n of t)e.push(n);return e},$n=e=>Bn([],e),Se=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},Te=(e,t)=>e[Se(e,t)];function ee(e){const t={};for(const n in e){const i=e[n];m.plainObject(i)?t[n]=ee(i):m.array(i)?t[n]=$n(i):t[n]=i}return t}let Ln=0,zt,Yt;function ho(e){if(zt=e.requestAnimationFrame,Yt=e.cancelAnimationFrame,!zt){const t=["ms","moz","webkit","o"];for(const n of t)zt=e[`${n}RequestAnimationFrame`],Yt=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}zt=zt&&zt.bind(e),Yt=Yt&&Yt.bind(e),zt||(zt=t=>{const n=Date.now(),i=Math.max(0,16-(n-Ln)),o=e.setTimeout(()=>{t(n+i)},i);return Ln=n+i,o},Yt=t=>clearTimeout(t))}var ne={request:e=>zt(e),cancel:e=>Yt(e),init:ho};function Gt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o=>!0,i=arguments.length>3?arguments[3]:void 0;if(i=i||{},m.string(e)&&e.search(" ")!==-1&&(e=Nn(e)),m.array(e))return e.forEach(o=>Gt(o,t,n,i)),i;if(m.object(e)&&(t=e,e=""),m.func(t)&&n(e))i[e]=i[e]||[],i[e].push(t);else if(m.array(t))for(const o of t)Gt(e,o,n,i);else if(m.object(t))for(const o in t){const r=Nn(o).map(a=>`${e}${a}`);Gt(r,t[o],n,i)}return i}function Nn(e){return e.trim().split(/ +/)}function Wn(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class Fn{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=D({},t||{})}fire(t){let n;const i=this.global;(n=this.types[t.type])&&Wn(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&Wn(t,n)}on(t,n){const i=Gt(t,n);for(t in i)this.types[t]=Bn(this.types[t]||[],i[t])}off(t,n){const i=Gt(t,n);for(t in i){const o=this.types[t];if(!(!o||!o.length))for(const r of i[t]){const a=o.indexOf(r);a!==-1&&o.splice(a,1)}}}getRect(t){return null}}const po=["webkit","moz"];function jn(e,t){e.__set||(e.__set={});for(const n in t)po.some(i=>n.indexOf(i)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(i){e.__set[n]=i},configurable:!0});return e}var ze=(e,t)=>Math.sqrt(e*e+t*t);function Ge(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function go(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function mo(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function vo(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function Xn(e){return e instanceof U.Event||e instanceof U.Touch}function Ie(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function yo(e,t){return t=t||{x:0,y:0},Q.isOperaMobile&&Xn(e)?(Ie("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Ie("page",e,t),t}function bo(e,t){return t=t||{},Q.isOperaMobile&&Xn(e)?Ie("screen",e,t):Ie("client",e,t),t}function Me(e){return m.number(e.pointerId)?e.pointerId:e.identifier}function xo(e,t,n){const i=t.length>1?Yn(t):t[0];yo(i,e.page),bo(i,e.client),e.timeStamp=n}function qe(e){const t=[];return m.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Yn(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const i in t)t[i]+=n[i];for(const n in t)t[n]/=e.length;return t}function wo(e){if(!e.length)return null;const t=qe(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:r,width:o-n,height:r-i}}function Eo(e,t){const n=t+"X",i=t+"Y",o=qe(e),r=o[0][n]-o[1][n],a=o[0][i]-o[1][i];return ze(r,a)}function So(e,t){const n=t+"X",i=t+"Y",o=qe(e),r=o[1][n]-o[0][n],a=o[1][i]-o[0][i];return 180*Math.atan2(a,r)/Math.PI}function To(e){return m.string(e.pointerType)?e.pointerType:m.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof U.Touch?"touch":"mouse"}function Gn(e){const t=m.func(e.composedPath)?e.composedPath():e.path;return[_n(t?t[0]:e.target),_n(e.currentTarget)]}function re(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function zo(e){var t;const n=[],i={},o=[],r={add:a,remove:s,addDelegate:c,removeDelegate:l,delegateListener:u,delegateUseCapture:d,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r;function a(p,b,w,M){if(!p.addEventListener)return;const y=se(M);let P=Te(n,C=>C.eventTarget===p);P||(P={eventTarget:p,events:{}},n.push(P)),P.events[b]||(P.events[b]=[]),Te(P.events[b],C=>C.func===w&&Ce(C.options,y))||(p.addEventListener(b,w,r.supportsOptions?y:y.capture),P.events[b].push({func:w,options:y}))}function s(p,b,w,M){if(!p.addEventListener||!p.removeEventListener)return;const y=Se(n,v=>v.eventTarget===p),P=n[y];if(!P||!P.events)return;if(b==="all"){for(b in P.events)P.events.hasOwnProperty(b)&&s(p,b,"all");return}let C=!1;const _=P.events[b];if(_)if(w==="all"){for(let v=_.length-1;v>=0;v--){const h=_[v];s(p,b,h.func,h.options)}return}else{const v=se(M);for(let h=0;h<_.length;h++){const z=_[h];if(z.func===w&&Ce(z.options,v)){p.removeEventListener(b,w,r.supportsOptions?v:v.capture),_.splice(h,1),_.length===0&&(delete P.events[b],C=!0);break}}}C&&!Object.keys(P.events).length&&n.splice(y,1)}function c(p,b,w,M,y){const P=se(y);if(!i[w]){i[w]=[];for(const v of o)a(v,w,u),a(v,w,d,!0)}const C=i[w];let _=Te(C,v=>v.selector===p&&v.context===b);_||(_={selector:p,context:b,listeners:[]},C.push(_)),_.listeners.push({func:M,options:P})}function l(p,b,w,M,y){const P=se(y),C=i[w];let _=!1,v;if(C)for(v=C.length-1;v>=0;v--){const h=C[v];if(h.selector===p&&h.context===b){const{listeners:z}=h;for(let E=z.length-1;E>=0;E--){const H=z[E];if(H.func===M&&Ce(H.options,P)){z.splice(E,1),z.length||(C.splice(v,1),s(b,w,u),s(b,w,d,!0)),_=!0;break}}if(_)break}}}function u(p,b){const w=se(b),M=new Io(p),y=i[p.type],[P]=Gn(p);let C=P;for(;m.element(C);){for(let _=0;_<y.length;_++){const v=y[_],{selector:h,context:z}=v;if(Xt(C,h)&&jt(z,P)&&jt(z,C)){const{listeners:E}=v;M.currentTarget=C;for(const H of E)Ce(H.options,w)&&H.func(M)}}C=Rt(C)}}function d(p){return u.call(this,p,!0)}return r}class Io{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,jn(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function se(e){return m.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function Ce(e,t){return e===t?!0:typeof e=="boolean"?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive}var Mo={id:"events",install:zo};const Co=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):m.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function _o(e,t,n){const i=e.options.preventDefault;if(i!=="never"){if(i==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const o=Ft(n.target).document,r=t.getDocOptions(o);if(!(r&&r.events)||r.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||m.element(n.target)&&Xt(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function Do(e){let{interaction:t,event:n}=e;t.interactable&&t.interactable.checkAndPreventDefault(n)}function Po(e){const{Interactable:t}=e;t.prototype.preventDefault=Co,t.prototype.checkAndPreventDefault=function(n){return _o(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const i of e.interactions.list)if(i.element&&(i.element===n.target||jt(i.element,n.target))){i.interactable.checkAndPreventDefault(n);return}}})}var Oo={id:"core/interactablePreventDefault",install:Po,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=Do,e),{})};function qn(e,t,n){return e==="parent"?Rt(n):e==="self"?t.getRect(n):Cn(n,e)}function ae(e,t,n,i){let o=e;return m.string(o)?o=qn(o,t,n):m.func(o)&&(o=o(...i)),m.element(o)&&(o=Fe(o)),o}function _e(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function ko(e){return e&&!("left"in e&&"top"in e)&&(e=D({},e),e.left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}function Un(e){return e&&!("x"in e&&"y"in e)&&(e=D({},e),e.x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function Ue(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Ve(e,t,n){const i=n&&e.options[n],r=i&&i.origin||e.options.origin,a=ae(r,e,t,[e&&t]);return _e(a)||{x:0,y:0}}class Vn{constructor(t){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(Vn.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const Kn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class Ke extends Vn{constructor(t,n,i,o,r,a,s){super(t),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,r=r||t.element;const c=t.interactable,l=(c&&c.options||Kn).deltaSource,u=Ve(c,r,i),d=o==="start",p=o==="end",b=d?this:t.prevEvent,w=d?t.coords.start:p?{page:b.page,client:b.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=D({},w.page),this.client=D({},w.client),this.rect=D({},t.rect),this.timeStamp=w.timeStamp,p||(this.page.x-=u.x,this.page.y-=u.y,this.client.x-=u.x,this.client.y-=u.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=r,this.currentTarget=r,this.preEnd=a,this.type=s||i+(o||""),this.interactable=c,this.t0=d?t.pointers[t.pointers.length-1].downTime:b.t0,this.x0=t.coords.start.page.x-u.x,this.y0=t.coords.start.page.y-u.y,this.clientX0=t.coords.start.client.x-u.x,this.clientY0=t.coords.start.client.y-u.y,d||p?this.delta={x:0,y:0}:this.delta={x:this[l].x-b[l].x,y:this[l].y-b[l].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=D({},t.coords.velocity[l]),this.speed=ze(this.velocity.x,this.velocity.y),this.swipe=p||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const i=22.5;n<0&&(n+=360);const o=135-i<=n&&n<225+i,r=225-i<=n&&n<315+i,a=!o&&(315-i<=n||n<45+i),s=!r&&45-i<=n&&n<135+i;return{up:r,down:s,left:o,right:a,angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(Ke.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});class Ro{constructor(t,n,i,o,r){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=r}}let Ao=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),Ho=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),Bo=0;class $o{get pointerMoveTolerance(){return 1}constructor(t){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=oe(function(r){this.move(r)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:re(),prev:re(),cur:re(),delta:re(),velocity:re()},this._id=Bo++;let{pointerType:n,scopeFire:i}=t;this._scopeFire=i,this.pointerType=n;const o=this;this._proxy={};for(const r in Ao)Object.defineProperty(this._proxy,r,{get(){return o[r]}});for(const r in Ho)Object.defineProperty(this._proxy,r,{value:function(){return o[r](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,n,i){const o=this.updatePointer(t,n,i,!0),r=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:o,pointerInfo:r,type:"down",interaction:this})}start(t,n,i){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(Pn(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?D({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,i){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,i,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let r,a;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ze(r,a)>this.pointerMoveTolerance);const s=this.getPointerIndex(t),c={pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,type:"move",eventTarget:i,dx:r,dy:a,duplicate:o,interaction:this};o||mo(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",c),!o&&!this.simulation&&(this.interacting()&&(c.type=null,this.move(c)),this.pointerWasMoved&&Ge(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&vo(this.coords.delta),t=D({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,i,o){let r=this.getPointerIndex(t);r===-1&&(r=this.updatePointer(t,n,i,!1));const a=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${a}`,{pointer:t,pointerIndex:r,pointerInfo:this.pointers[r],event:n,eventTarget:i,type:a,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=Me(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Se(this.pointers,i=>i.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,i,o){const r=Me(t);let a=this.getPointerIndex(t),s=this.pointers[a];return o=o===!1?!1:o||/(down|start)$/i.test(n.type),s?s.pointer=t:(s=new Ro(r,t,n,null,null),a=this.pointers.length,this.pointers.push(s)),xo(this.coords.cur,this.pointers.map(c=>c.pointer),this._now()),go(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,s.downTime=this.coords.cur.timeStamp,s.downTarget=i,jn(this.downPointer,t),this.interacting()||(Ge(this.coords.start,this.coords.cur),Ge(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:o,pointerInfo:s,pointerIndex:a,interaction:this}),a}removePointer(t,n){const i=this.getPointerIndex(t);if(i===-1)return;const o=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:o,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,i,o){return new Ke(this,t,this.prepared.name,n,this.element,i,o)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:i,preEnd:o,type:r}=t,{rect:a}=this;if(a&&i==="move"&&(Ue(this.edges,a,this.coords.delta[this.interactable.options.deltaSource]),a.width=a.right-a.left,a.height=a.bottom-a.top),this._scopeFire(`interactions:before-action-${i}`,t)===!1)return!1;const c=t.iEvent=this._createPreparedEvent(n,i,o,r);return this._scopeFire(`interactions:action-${i}`,t),i==="start"&&(this.prevEvent=c),this._fireEvent(c),this._scopeFire(`interactions:after-action-${i}`,t),!0}_now(){return Date.now()}}const Je={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of Je.methodOrder){const n=Je[t](e);if(n)return n}return null},simulationResume(e){let{pointerType:t,eventType:n,eventTarget:i,scope:o}=e;if(!/down|start/i.test(n))return null;for(const r of o.interactions.list){let a=i;if(r.simulation&&r.simulation.allowResume&&r.pointerType===t)for(;a;){if(a===r.element)return r;a=Rt(a)}}return null},mouseOrPen(e){let{pointerId:t,pointerType:n,eventType:i,scope:o}=e;if(n!=="mouse"&&n!=="pen")return null;let r;for(const a of o.interactions.list)if(a.pointerType===n){if(a.simulation&&!Jn(a,t))continue;if(a.interacting())return a;r||(r=a)}if(r)return r;for(const a of o.interactions.list)if(a.pointerType===n&&!(/down/i.test(i)&&a.simulation))return a;return null},hasPointer(e){let{pointerId:t,scope:n}=e;for(const i of n.interactions.list)if(Jn(i,t))return i;return null},idle(e){let{pointerType:t,scope:n}=e;for(const i of n.interactions.list){if(i.pointers.length===1){const o=i.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Jn(e,t){return e.pointers.some(n=>{let{id:i}=n;return i===t})}const Zn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Lo(e){const t={};for(const r of Zn)t[r]=Qn(r,e);const n=Q.pEventTypes;let i;U.PointerEvent?i=[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:i=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],i.push({type:"blur",listener(r){for(const a of e.interactions.list)a.documentBlur(r)}}),e.prevTouchTime=0,e.Interaction=class extends $o{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(r){e.interactions.pointerMoveTolerance=r}_now(){return e.now()}},e.interactions={list:[],new(r){r.scopeFire=(s,c)=>e.fire(s,c);const a=new e.Interaction(r);return e.interactions.list.push(a),a},listeners:t,docEvents:i,pointerMoveTolerance:1};function o(){for(const r of e.interactions.list)if(!(!r.pointerIsDown||r.pointerType!=="touch"||r._interacting))for(const a of r.pointers)e.documents.some(s=>{let{doc:c}=s;return jt(c,a.downTarget)})||r.removePointer(a.pointer,a.event)}e.usePlugin(Oo)}function Qn(e,t){return function(n){const i=t.interactions.list,o=To(n),[r,a]=Gn(n),s=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const c of n.changedTouches){const l=c,u=Me(l),d={pointer:l,pointerId:u,pointerType:o,eventType:n.type,eventTarget:r,curEventTarget:a,scope:t},p=ti(d);s.push([d.pointer,d.eventTarget,d.curEventTarget,p])}}else{let c=!1;if(!Q.supportsPointerEvent&&/mouse/.test(n.type)){for(let l=0;l<i.length&&!c;l++)c=i[l].pointerType!=="mouse"&&i[l].pointerIsDown;c=c||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!c){const l={pointer:n,pointerId:Me(n),pointerType:o,eventType:n.type,curEventTarget:a,eventTarget:r,scope:t},u=ti(l);s.push([l.pointer,l.eventTarget,l.curEventTarget,u])}}for(const[c,l,u,d]of s)d[e](c,n,l,u)}}function ti(e){const{pointerType:t,scope:n}=e,o={interaction:Je.search(e),searchDetails:e};return n.fire("interactions:find",o),o.interaction||n.interactions.new({pointerType:t})}function Ze(e,t){let{doc:n,scope:i,options:o}=e;const{interactions:{docEvents:r},events:a}=i,s=a[t];i.browser.isIOS&&!o.events&&(o.events={passive:!1});for(const l in a.delegatedEvents)s(n,l,a.delegateListener),s(n,l,a.delegateUseCapture,!0);const c=o&&o.events;for(const{type:l,listener:u}of r)s(n,l,u,c)}const No={id:"core/interactions",install:Lo,listeners:{"scope:add-document":e=>Ze(e,"add"),"scope:remove-document":e=>Ze(e,"remove"),"interactable:unset":(e,t)=>{let{interactable:n}=e;for(let i=t.interactions.list.length-1;i>=0;i--){const o=t.interactions.list[i];o.interactable===n&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:Ze,doOnInteractions:Qn,methodNames:Zn};function le(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}var At=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(At||{});class Wo{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,n,i,o){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Fn,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=Ft(Dn(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}setOnEvents(t,n){return m.func(n.onstart)&&this.on(`${t}start`,n.onstart),m.func(n.onmove)&&this.on(`${t}move`,n.onmove),m.func(n.onend)&&this.on(`${t}end`,n.onend),m.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,i){var o;const r=(o=this._actions.map[t])==null?void 0:o.filterEventType,a=s=>(r==null||r(s))&&le(s,this._actions);(m.array(n)||m.object(n))&&this._onOff(At.Off,t,n,void 0,a),(m.array(i)||m.object(i))&&this._onOff(At.On,t,i,void 0,a)}setPerAction(t,n){const i=this._defaults;for(const o in n){const r=o,a=this.options[t],s=n[r];r==="listeners"&&this.updatePerActionListeners(t,a.listeners,s),m.array(s)?a[r]=$n(s):m.plainObject(s)?(a[r]=D(a[r]||{},ee(s)),m.object(i.perAction[r])&&"enabled"in i.perAction[r]&&(a[r].enabled=s.enabled!==!1)):m.bool(s)&&m.object(i.perAction[r])?a[r].enabled=s:a[r]=s}}getRect(t){return t=t||(m.element(this.target)?this.target:null),m.string(this.target)&&(t=t||this._context.querySelector(this.target)),Fe(t)}rectChecker(t){return m.func(t)?(this.getRect=n=>{const i=D({},t.apply(this,n));return"width"in i||(i.width=i.right-i.left,i.height=i.bottom-i.top),i},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(Dn(n)||m.object(n)){this.options[t]=n;for(const i in this._actions.map)this.options[i][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}getAllElements(){const{target:t}=this;return m.string(t)?Array.from(this._context.querySelectorAll(t)):m.func(t)&&t.getAllElements?t.getAllElements():m.element(t)?[t]:[]}context(){return this._context}inContext(t){return this._context===t.ownerDocument||jt(this._context,t)}testIgnoreAllow(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}testAllow(t,n,i){return t?m.element(i)?m.string(t)?Ne(i,t,n):m.element(t)?jt(t,i):!1:!1:!0}testIgnore(t,n,i){return!t||!m.element(i)?!1:m.string(t)?Ne(i,t,n):m.element(t)?jt(t,i):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,i,o,r){m.object(n)&&!m.array(n)&&(o=i,i=null);const a=Gt(n,i,r);for(let s in a){s==="wheel"&&(s=Q.wheelEvent);for(const c of a[s])le(s,this._actions)?this.events[t===At.On?"on":"off"](s,c):m.string(this.target)?this._scopeEvents[t===At.On?"addDelegate":"removeDelegate"](this.target,this._context,s,c,o):this._scopeEvents[t===At.On?"add":"remove"](this.target,s,c,o)}return this}on(t,n,i){return this._onOff(At.On,t,n,i)}off(t,n,i){return this._onOff(At.Off,t,n,i)}set(t){const n=this._defaults;m.object(t)||(t={}),this.options=ee(n.base);for(const i in this._actions.methodDict){const o=i,r=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,D(D({},n.perAction),n.actions[o])),this[r](t[o])}for(const i in t){if(i==="getRect"){this.rectChecker(t.getRect);continue}m.func(this[i])&&this[i](t[i])}return this}unset(){if(m.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let i=n.length-1;i>=0;i--){const{selector:o,context:r,listeners:a}=n[i];o===this.target&&r===this._context&&n.splice(i,1);for(let s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[s][0],a[s][1])}}else this._scopeEvents.remove(this.target,"all")}}class Fo{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":n=>{let{interactable:i}=n;const{target:o}=i,r=m.string(o)?this.selectorMap[o]:o[this.scope.id],a=Se(r,s=>s===i);r.splice(a,1)}})}new(t,n){n=D(n||{},{actions:this.scope.actions});const i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),m.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}getExisting(t,n){const i=n&&n.context||this.scope.document,o=m.string(t),r=o?this.selectorMap[t]:t[this.scope.id];if(r)return Te(r,a=>a._context===i&&(o||a.inContext(t)))}forEachMatch(t,n){for(const i of this.list){let o;if((m.string(i.target)?m.element(t)&&Xt(t,i.target):t===i.target)&&i.inContext(t)&&(o=n(i)),o!==void 0)return o}}}function jo(e){const t=(n,i)=>{let o=e.interactables.getExisting(n,i);return o||(o=e.interactables.new(n,i),o.events.global=t.globalEvents),o};return t.getPointerAverage=Yn,t.getTouchBBox=wo,t.getTouchDistance=Eo,t.getTouchAngle=So,t.getElementRect=Fe,t.getElementClientRect=We,t.matchesSelector=Xt,t.closest=Cn,t.globalEvents={},t.version="1.10.26",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=oe(function(i,o,r){if(m.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),m.array(i)){for(const a of i)this.on(a,o,r);return this}if(m.object(i)){for(const a in i)this.on(a,i[a],o);return this}return le(i,this.scope.actions)?this.globalEvents[i]?this.globalEvents[i].push(o):this.globalEvents[i]=[o]:this.scope.events.add(this.scope.document,i,o,{options:r}),this},"The interact.on() method is being deprecated"),t.off=oe(function(i,o,r){if(m.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),m.array(i)){for(const a of i)this.off(a,o,r);return this}if(m.object(i)){for(const a in i)this.off(a,i[a],o);return this}if(le(i,this.scope.actions)){let a;i in this.globalEvents&&(a=this.globalEvents[i].indexOf(o))!==-1&&this.globalEvents[i].splice(a,1)}else this.scope.events.remove(this.scope.document,i,o,r);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return Q.supportsTouch},t.supportsPointerEvent=function(){return Q.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return m.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class Xo{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=Q,this.defaults=ee(Kn),this.Eventable=Fn,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=jo(this),this.InteractEvent=Ke,this.Interactable=void 0,this.interactables=new Fo(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=n=>this.removeDocument(n.target);const t=this;this.Interactable=class extends Wo{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:i}}of this.listenerMaps)if(i&&i(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:Yo(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let i=0;const o=this.listenerMaps.length,r=t.before.reduce((a,s)=>(a[s]=!0,a[ei(s)]=!0,a),{});for(;i<o;i++){const a=this.listenerMaps[i].id;if(a&&(r[a]||r[ei(a)]))break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const i=Ft(t);n=n?D({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),i=Ft(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function Yo(e,t){return e.isInitialized=!0,m.window(t)&&In(t),U.init(t),Q.init(t),ne.init(t),e.window=t,e.document=t.document,e.usePlugin(No),e.usePlugin(Mo),e}function ei(e){return e&&e.replace(/\/.*$/,"")}const ni=new Xo,It=ni.interactStatic,Go=typeof globalThis<"u"?globalThis:window;ni.init(Go),It.use(fo);function qo(e){const{defaults:t,actions:n}=e;e.autoScroll=O,O.now=()=>e.now(),n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=O.defaults}const O={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(e){O.isScrolling=!0,ne.cancel(O.i),e.autoScroll=O,O.interaction=e,O.prevTime=O.now(),O.i=ne.request(O.scroll)},stop(){O.isScrolling=!1,O.interaction&&(O.interaction.autoScroll=null),ne.cancel(O.i)},scroll(){const{interaction:e}=O,{interactable:t,element:n}=e,i=e.prepared.name,o=t.options[i].autoScroll,r=ii(o.container,t,n),a=O.now(),s=(a-O.prevTime)/1e3,c=o.speed*s;if(c>=1){const l={x:O.x*c,y:O.y*c};if(l.x||l.y){const u=oi(r);m.window(r)?r.scrollBy(l.x,l.y):r&&(r.scrollLeft+=l.x,r.scrollTop+=l.y);const d=oi(r),p={x:d.x-u.x,y:d.y-u.y};(p.x||p.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:p,interaction:e,container:r})}O.prevTime=a}O.isScrolling&&(ne.cancel(O.i),O.i=ne.request(O.scroll))},check(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove(e){let{interaction:t,pointer:n}=e;if(!(t.interacting()&&O.check(t.interactable,t.prepared.name)))return;if(t.simulation){O.x=O.y=0;return}let i,o,r,a;const{interactable:s,element:c}=t,l=t.prepared.name,u=s.options[l].autoScroll,d=ii(u.container,s,c);if(m.window(d))a=n.clientX<O.margin,i=n.clientY<O.margin,o=n.clientX>d.innerWidth-O.margin,r=n.clientY>d.innerHeight-O.margin;else{const p=We(d);a=n.clientX<p.left+O.margin,i=n.clientY<p.top+O.margin,o=n.clientX>p.right-O.margin,r=n.clientY>p.bottom-O.margin}O.x=o?1:a?-1:0,O.y=r?1:i?-1:0,O.isScrolling||(O.margin=u.margin,O.speed=u.speed,O.start(t))}};function ii(e,t,n){return(m.string(e)?qn(e,t,n):e)||Ft(n)}function oi(e){return m.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}const Uo={id:"auto-scroll",install:qo,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.autoScroll=null},"interactions:destroy":e=>{let{interaction:t}=e;t.autoScroll=null,O.stop(),O.interaction&&(O.interaction=null)},"interactions:stop":O.stop,"interactions:action-move":e=>O.onInteractionMove(e)}};It.use(Uo);function Vo(e){const{actions:t,Interactable:n,defaults:i}=e;n.prototype.draggable=De.draggable,t.map.drag=De,t.methodDict.drag="draggable",i.actions.drag=De.defaults}function Qe(e){let{interaction:t}=e;if(t.prepared.name!=="drag")return;const n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}function ri(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="drag")return;const i=n.prepared.axis;if(i==="x"||i==="y"){const o=i==="x"?"y":"x";t.page[o]=n.coords.start.page[o],t.client[o]=n.coords.start.client[o],t.delta[o]=0}}const De={id:"actions/drag",install:Vo,listeners:{"interactions:before-action-move":Qe,"interactions:action-resume":Qe,"interactions:action-move":ri,"auto-start:check":e=>{const{interaction:t,interactable:n,buttons:i}=e,o=n.options.drag;if(!(!(o&&o.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(i&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(t){return m.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):m.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Qe,move:ri,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"},filterEventType:e=>e.search("drag")===0};It.use(De);function Ko(e){const{actions:t,browser:n,Interactable:i,defaults:o}=e;Mt.cursors=tr(n),Mt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(r){return Zo(this,r,e)},t.map.resize=Mt,t.methodDict.resize="resizable",o.actions.resize=Mt.defaults}function Jo(e){const{interaction:t,interactable:n,element:i,rect:o,buttons:r}=e;if(!o)return;const a=D({},t.coords.cur.page),s=n.options.resize;if(!(!(s&&s.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(r&s.mouseButtons))){if(m.object(s.edges)){const c={left:!1,right:!1,top:!1,bottom:!1};for(const l in c)c[l]=Qo(l,s.edges[l],a,t._latestPointer.eventTarget,i,o,s.margin||Mt.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{const c=s.axis!=="y"&&a.x>o.right-Mt.defaultMargin,l=s.axis!=="x"&&a.y>o.bottom-Mt.defaultMargin;(c||l)&&(e.action={name:"resize",axes:(c?"x":"")+(l?"y":"")})}return e.action?!1:void 0}}function Zo(e,t,n){return m.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),m.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=n.defaults.actions.resize.axis),m.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:m.bool(t.square)&&(e.options.resize.square=t.square),e):m.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function Qo(e,t,n,i,o,r,a){if(!t)return!1;if(t===!0){const s=m.number(r.width)?r.width:r.right-r.left,c=m.number(r.height)?r.height:r.bottom-r.top;if(a=Math.min(a,Math.abs((e==="left"||e==="right"?s:c)/2)),s<0&&(e==="left"?e="right":e==="right"&&(e="left")),c<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){const l=s>=0?r.left:r.right;return n.x<l+a}if(e==="top"){const l=c>=0?r.top:r.bottom;return n.y<l+a}if(e==="right")return n.x>(s>=0?r.right:r.left)-a;if(e==="bottom")return n.y>(c>=0?r.bottom:r.top)-a}return m.element(i)?m.element(t)?t===i:Ne(i,t,o):!1}function tr(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function er(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t,o=n.rect;n._rects={start:D({},o),corrected:D({},o),previous:D({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}function nr(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t,r=n.interactable.options.resize.invert,a=r==="reposition"||r==="negate",s=n.rect,{start:c,corrected:l,delta:u,previous:d}=n._rects;if(D(d,l),a){if(D(l,s),r==="reposition"){if(l.top>l.bottom){const p=l.top;l.top=l.bottom,l.bottom=p}if(l.left>l.right){const p=l.left;l.left=l.right,l.right=p}}}else l.top=Math.min(s.top,c.bottom),l.bottom=Math.max(s.bottom,c.top),l.left=Math.min(s.left,c.right),l.right=Math.max(s.right,c.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(const p in l)u[p]=l[p]-d[p];i.edges=n.prepared.edges,i.rect=l,i.deltaRect=u}function ir(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const i=t;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}function si(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.resizeAxes)return;const i=n.interactable.options,o=t;i.resize.square?(n.resizeAxes==="y"?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=n.resizeAxes,n.resizeAxes==="x"?o.delta.y=0:n.resizeAxes==="y"&&(o.delta.x=0))}const Mt={id:"actions/resize",before:["actions/drag"],install:Ko,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.resizeAxes="xy"},"interactions:action-start":e=>{er(e),si(e)},"interactions:action-move":e=>{nr(e),si(e)},"interactions:action-end":ir,"auto-start:check":Jo},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor(e){let{edges:t,axis:n,name:i}=e;const o=Mt.cursors;let r=null;if(n)r=o[i+n];else if(t){let a="";for(const s of["top","bottom","left","right"])t[s]&&(a+=s);r=o[a]}return r},filterEventType:e=>e.search("resize")===0,defaultMargin:null};It.use(Mt);var or=()=>{},rr=()=>{},sr=e=>{const t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(i=>{let[o,r]=i;return o in e||r in e}),n=(i,o)=>{const{range:r,limits:a={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:s={x:0,y:0}}=e,c={range:r,grid:e,x:null,y:null};for(const[l,u]of t){const d=Math.round((i-s.x)/e[l]),p=Math.round((o-s.y)/e[u]);c[l]=Math.max(a.left,Math.min(a.right,d*e[l]+s.x)),c[u]=Math.max(a.top,Math.min(a.bottom,p*e[u]+s.y))}return c};return n.grid=e,n.coordFields=t,n},ar=Object.freeze({__proto__:null,edgeTarget:or,elements:rr,grid:sr});const lr={id:"snappers",install(e){const{interactStatic:t}=e;t.snappers=D(t.snappers||{},ar),t.createSnapGrid=t.snappers.grid}};class ai{constructor(t){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Pe(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}start(t,n){let{phase:i}=t;const{interaction:o}=this,r=cr(o);this.prepareStates(r),this.startEdges=D({},o.edges),this.edges=D({},this.startEdges),this.startOffset=ur(o.rect,n),this.startDelta={x:0,y:0};const a=this.fillArg({phase:i,pageCoords:n,preEnd:!1});return this.result=Pe(),this.startAll(a),this.result=this.setAll(a)}fillArg(t){const{interaction:n}=this;return t.interaction=n,t.interactable=n.interactable,t.element=n.element,t.rect||(t.rect=n.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}startAll(t){for(const n of this.states)n.methods.start&&(t.state=n,n.methods.start(t))}setAll(t){const{phase:n,preEnd:i,skipModifiers:o,rect:r,edges:a}=t;t.coords=D({},t.pageCoords),t.rect=D({},r),t.edges=D({},a);const s=o?this.states.slice(o):this.states,c=Pe(t.coords,t.rect);for(const p of s){var l;const{options:b}=p,w=D({},t.coords);let M=null;(l=p.methods)!=null&&l.set&&this.shouldDo(b,i,n)&&(t.state=p,M=p.methods.set(t),Ue(t.edges,t.rect,{x:t.coords.x-w.x,y:t.coords.y-w.y})),c.eventProps.push(M)}D(this.edges,t.edges),c.delta.x=t.coords.x-t.pageCoords.x,c.delta.y=t.coords.y-t.pageCoords.y,c.rectDelta.left=t.rect.left-r.left,c.rectDelta.right=t.rect.right-r.right,c.rectDelta.top=t.rect.top-r.top,c.rectDelta.bottom=t.rect.bottom-r.bottom;const u=this.result.coords,d=this.result.rect;if(u&&d){const p=c.rect.left!==d.left||c.rect.right!==d.right||c.rect.top!==d.top||c.rect.bottom!==d.bottom;c.changed=p||u.x!==c.coords.x||u.y!==c.coords.y}return c}applyToInteraction(t){const{interaction:n}=this,{phase:i}=t,o=n.coords.cur,r=n.coords.start,{result:a,startDelta:s}=this,c=a.delta;i==="start"&&D(this.startDelta,a.delta);for(const[d,p]of[[r,s],[o,c]])d.page.x+=p.x,d.page.y+=p.y,d.client.x+=p.x,d.client.y+=p.y;const{rectDelta:l}=this.result,u=t.rect||n.rect;u.left+=l.left,u.right+=l.right,u.top+=l.top,u.bottom+=l.bottom,u.width=u.right-u.left,u.height=u.bottom-u.top}setAndApply(t){const{interaction:n}=this,{phase:i,preEnd:o,skipModifiers:r}=t,a=this.setAll(this.fillArg({preEnd:o,phase:i,pageCoords:t.modifiedCoords||n.coords.cur.page}));if(this.result=a,!a.changed&&(!r||r<this.states.length)&&n.interacting())return!1;if(t.modifiedCoords){const{page:s}=n.coords.cur,c={x:t.modifiedCoords.x-s.x,y:t.modifiedCoords.y-s.y};a.coords.x+=c.x,a.coords.y+=c.y,a.delta.x+=c.x,a.delta.y+=c.y}this.applyToInteraction(t)}beforeEnd(t){const{interaction:n,event:i}=t,o=this.states;if(!o||!o.length)return;let r=!1;for(const a of o){t.state=a;const{options:s,methods:c}=a,l=c.beforeEnd&&c.beforeEnd(t);if(l)return this.endResult=l,!1;r=r||!r&&this.shouldDo(s,!0,t.phase,!0)}r&&n.move({event:i,preEnd:!0})}stop(t){const{interaction:n}=t;if(!this.states||!this.states.length)return;const i=D({states:this.states,interactable:n.interactable,element:n.element,rect:null},t);this.fillArg(i);for(const o of this.states)i.state=o,o.methods.stop&&o.methods.stop(i);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let n=0;n<t.length;n++){const{options:i,methods:o,name:r}=t[n];this.states.push({options:i,methods:o,index:n,name:r})}return this.states}restoreInteractionCoords(t){let{interaction:{coords:n,rect:i,modification:o}}=t;if(!o.result)return;const{startDelta:r}=o,{delta:a,rectDelta:s}=o.result,c=[[n.start,r],[n.cur,a]];for(const[l,u]of c)l.page.x-=u.x,l.page.y-=u.y,l.client.x-=u.x,l.client.y-=u.y;i.left-=s.left,i.right-=s.right,i.top-=s.top,i.bottom-=s.bottom}shouldDo(t,n,i,o){return!(!t||t.enabled===!1||o&&!t.endOnly||t.endOnly&&!n||i==="start"&&!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(n=>ee(n)),this.result=Pe(D({},t.result.coords),D({},t.result.rect))}destroy(){for(const t in this)this[t]=null}}function Pe(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function cr(e){const t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(i=>{const o=t[i];return o&&o.enabled&&{options:o,methods:o._methods}}).filter(i=>!!i)}function ur(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function Ht(e,t){const{defaults:n}=e,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=r=>{const a=r||{};a.enabled=a.enabled!==!1;for(const c in n)c in a||(a[c]=n[c]);const s={options:a,methods:i,name:t,enable:()=>(a.enabled=!0,s),disable:()=>(a.enabled=!1,s)};return s};return t&&typeof t=="string"&&(o._defaults=n,o._methods=i),o}function tn(e){let{iEvent:t,interaction:n}=e;const i=n.modification.result;i&&(t.modifiers=i.eventProps)}const fr={id:"modifiers/base",before:["actions"],install:e=>{e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":e=>{let{interaction:t}=e;t.modification=new ai(t)},"interactions:before-action-start":e=>{const{interaction:t}=e,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":e=>{const{interaction:t}=e,{modification:n}=t,i=n.setAndApply(e);return t.edges=n.edges,i},"interactions:before-action-end":e=>{const{interaction:t}=e,{modification:n}=t,i=n.beforeEnd(e);return t.edges=n.startEdges,i},"interactions:action-start":tn,"interactions:action-move":tn,"interactions:action-end":tn,"interactions:after-action-start":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-move":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:stop":e=>e.interaction.modification.stop(e)}},dr={start(e){const{state:t,rect:n,edges:i,pageCoords:o}=e;let{ratio:r,enabled:a}=t.options;const{equalDelta:s,modifiers:c}=t.options;r==="preserve"&&(r=n.width/n.height),t.startCoords=D({},o),t.startRect=D({},n),t.ratio=r,t.equalDelta=s;const l=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!!(i.left||i.right),t.equalDelta){const d=(l.left?1:-1)*(l.top?1:-1);t.edgeSign={x:d,y:d}}else t.edgeSign={x:l.left?-1:1,y:l.top?-1:1};if(a!==!1&&D(i,l),!(c!=null&&c.length))return;const u=new ai(e.interaction);u.copyFrom(e.interaction.modification),u.prepareStates(c),t.subModification=u,u.startAll({...e})},set(e){const{state:t,rect:n,coords:i}=e,{linkedEdges:o}=t,r=D({},i),a=t.equalDelta?hr:pr;if(D(e.edges,o),a(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;const s=D({},n);Ue(o,s,{x:i.x-r.x,y:i.y-r.y});const c=t.subModification.setAll({...e,rect:s,edges:o,pageCoords:i,prevCoords:i,prevRect:s}),{delta:l}=c;if(c.changed){const u=Math.abs(l.x)>Math.abs(l.y);a(t,u,c.coords,c.rect),D(i,c.coords)}return c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function hr(e,t,n){let{startCoords:i,edgeSign:o}=e;t?n.y=i.y+(n.x-i.x)*o.y:n.x=i.x+(n.y-i.y)*o.x}function pr(e,t,n,i){let{startRect:o,startCoords:r,ratio:a,edgeSign:s}=e;if(t){const c=i.width/a;n.y=r.y+(c-o.height)*s.y}else{const c=i.height*a;n.x=r.x+(c-o.width)*s.x}}var gr=Ht(dr,"aspectRatio");function mr(e){let{rect:t,startOffset:n,state:i,interaction:o,pageCoords:r}=e;const{options:a}=i,{elementRect:s}=a,c=D({left:0,top:0,right:0,bottom:0},a.offset||{});if(t&&s){const l=qt(a.restriction,o,r);if(l){const u=l.right-l.left-t.width,d=l.bottom-l.top-t.height;u<0&&(c.left+=u,c.right+=u),d<0&&(c.top+=d,c.bottom+=d)}c.left+=n.left-t.width*s.left,c.top+=n.top-t.height*s.top,c.right+=n.right-t.width*(1-s.right),c.bottom+=n.bottom-t.height*(1-s.bottom)}i.offset=c}function vr(e){let{coords:t,interaction:n,state:i}=e;const{options:o,offset:r}=i,a=qt(o.restriction,n,t);if(!a)return;const s=ko(a);t.x=Math.max(Math.min(s.right-r.right,t.x),s.left+r.left),t.y=Math.max(Math.min(s.bottom-r.bottom,t.y),s.top+r.top)}function qt(e,t,n){return m.func(e)?ae(e,t.interactable,t.element,[n.x,n.y,t]):ae(e,t.interactable,t.element)}const Oe={start:mr,set:vr,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var yr=Ht(Oe,"restrict");const li={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ci={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function br(e){let{interaction:t,startOffset:n,state:i}=e;const{options:o}=i;let r;if(o){const a=qt(o.offset,t,t.coords.start.page);r=_e(a)}r=r||{x:0,y:0},i.offset={top:r.y+n.top,left:r.x+n.left,bottom:r.y-n.bottom,right:r.x-n.right}}function xr(e){let{coords:t,edges:n,interaction:i,state:o}=e;const{offset:r,options:a}=o;if(!n)return;const s=D({},t),c=qt(a.inner,i,s)||{},l=qt(a.outer,i,s)||{};ui(c,li),ui(l,ci),n.top?t.y=Math.min(Math.max(l.top+r.top,s.y),c.top+r.top):n.bottom&&(t.y=Math.max(Math.min(l.bottom+r.bottom,s.y),c.bottom+r.bottom)),n.left?t.x=Math.min(Math.max(l.left+r.left,s.x),c.left+r.left):n.right&&(t.x=Math.max(Math.min(l.right+r.right,s.x),c.right+r.right))}function ui(e,t){for(const n of["top","left","bottom","right"])n in e||(e[n]=t[n]);return e}const ce={noInner:li,noOuter:ci,start:br,set:xr,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var wr=Ht(ce,"restrictEdges");const Er=D({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Oe.defaults),Sr={start:Oe.start,set:Oe.set,defaults:Er};var Tr=Ht(Sr,"restrictRect");const zr={width:-1/0,height:-1/0},Ir={width:1/0,height:1/0};function Mr(e){return ce.start(e)}function Cr(e){const{interaction:t,state:n,rect:i,edges:o}=e,{options:r}=n;if(!o)return;const a=Un(qt(r.min,t,e.coords))||zr,s=Un(qt(r.max,t,e.coords))||Ir;n.options={endOnly:r.endOnly,inner:D({},ce.noInner),outer:D({},ce.noOuter)},o.top?(n.options.inner.top=i.bottom-a.height,n.options.outer.top=i.bottom-s.height):o.bottom&&(n.options.inner.bottom=i.top+a.height,n.options.outer.bottom=i.top+s.height),o.left?(n.options.inner.left=i.right-a.width,n.options.outer.left=i.right-s.width):o.right&&(n.options.inner.right=i.left+a.width,n.options.outer.right=i.left+s.width),ce.set(e),n.options=r}var _r=Ht({start:Mr,set:Cr,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function Dr(e){const{interaction:t,interactable:n,element:i,rect:o,state:r,startOffset:a}=e,{options:s}=r,c=s.offsetWithOrigin?Or(e):{x:0,y:0};let l;if(s.offset==="startCoords")l={x:t.coords.start.page.x,y:t.coords.start.page.y};else{const d=ae(s.offset,n,i,[t]);l=_e(d)||{x:0,y:0},l.x+=c.x,l.y+=c.y}const{relativePoints:u}=s;r.offsets=o&&u&&u.length?u.map((d,p)=>({index:p,relativePoint:d,x:a.left-o.width*d.x+l.x,y:a.top-o.height*d.y+l.y})):[{index:0,relativePoint:null,x:l.x,y:l.y}]}function Pr(e){const{interaction:t,coords:n,state:i}=e,{options:o,offsets:r}=i,a=Ve(t.interactable,t.element,t.prepared.name),s=D({},n),c=[];o.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(const u of r){const d=s.x-u.x,p=s.y-u.y;for(let b=0,w=o.targets.length;b<w;b++){const M=o.targets[b];let y;m.func(M)?y=M(d,p,t._proxy,u,b):y=M,y&&c.push({x:(m.number(y.x)?y.x:d)+u.x,y:(m.number(y.y)?y.y:p)+u.y,range:m.number(y.range)?y.range:o.range,source:M,index:b,offset:u})}}const l={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const u of c){const d=u.range,p=u.x-s.x,b=u.y-s.y,w=ze(p,b);let M=w<=d;d===1/0&&l.inRange&&l.range!==1/0&&(M=!1),(!l.target||(M?l.inRange&&d!==1/0?w/d<l.distance/l.range:d===1/0&&l.range!==1/0||w<l.distance:!l.inRange&&w<l.distance))&&(l.target=u,l.distance=w,l.range=d,l.inRange=M,l.delta.x=p,l.delta.y=b)}return l.inRange&&(n.x=l.target.x,n.y=l.target.y),i.closest=l,l}function Or(e){const{element:t}=e.interaction;return _e(ae(e.state.options.origin,null,null,[t]))||Ve(e.interactable,t,e.interaction.prepared.name)}const en={start:Dr,set:Pr,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var kr=Ht(en,"snap");function Rr(e){const{state:t,edges:n}=e,{options:i}=t;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],en.start(e),t.offsets=e.state.offsets,e.state=t}function Ar(e){const{interaction:t,state:n,coords:i}=e,{options:o,offsets:r}=n,a={x:i.x-r[0].x,y:i.y-r[0].y};n.options=D({},o),n.options.targets=[];for(const c of o.targets||[]){let l;if(m.func(c)?l=c(a.x,a.y,t):l=c,!!l){for(const[u,d]of n.targetFields)if(u in l||d in l){l.x=l[u],l.y=l[d];break}n.options.targets.push(l)}}const s=en.set(e);return n.options=o,s}const ke={start:Rr,set:Ar,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var Hr=Ht(ke,"snapSize");function Br(e){const{edges:t}=e;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],ke.start(e)):null}const $r={start:Br,set:ke.set,defaults:D(ee(ke.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})};var Lr=Ht($r,"snapEdges");const ue=()=>{};ue._defaults={};var nn={aspectRatio:gr,restrictEdges:wr,restrict:yr,restrictRect:Tr,restrictSize:_r,snapEdges:Lr,snap:kr,snapSize:Hr,spring:ue,avoid:ue,transform:ue,rubberband:ue};const Nr={id:"modifiers",install(e){const{interactStatic:t}=e;e.usePlugin(fr),e.usePlugin(lr),t.modifiers=nn;for(const n in nn){const{_defaults:i,_methods:o}=nn[n];i._methods=o,e.defaults.perAction[n]=i}}};It.use(Nr);var fe=function(e){return e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners",e}(fe||{});const on="[interact.js] ",rn={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"};function Wr(e){let{logger:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{Interactable:n,defaults:i}=e;e.logger=t||console,i.base.devTools={ignore:{}},n.prototype.devTools=function(r){return r?(D(this.options.devTools,r),this):this.options.devTools};const{_onOff:o}=n.prototype;n.prototype._onOff=function(r,a,s,c,l){if(m.string(this.target)||this.target.addEventListener)return o.call(this,r,a,s,c,l);m.object(a)&&!m.array(a)&&(c=s,s=null);const u=Gt(a,s,l);for(const d in u)le(d,e.actions)||e.logger.warn(on+`Can't add native "${d}" event listener to target without \`addEventListener(type, listener, options)\` prop.`);return o.call(this,r,u,c)}}const fi=[{name:fe.touchAction,perform(e){let{element:t}=e;return!!t&&!Fr(t,"touchAction",/pan-|pinch|none/)},getInfo(e){let{element:t}=e;return[t,rn.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:fe.boxSizing,perform(e){const{element:t}=e;return e.prepared.name==="resize"&&t instanceof U.HTMLElement&&!di(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo(e){let{element:t}=e;return[t,rn.boxSizing]}},{name:fe.noListeners,perform(e){var t;const n=e.prepared.name;return!(((t=e.interactable)==null?void 0:t.events.types[`${n}move`])||[]).length},getInfo(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function di(e,t,n){const i=e.style[t]||kt.getComputedStyle(e)[t];return n.test((i||"").toString())}function Fr(e,t,n){let i=e;for(;m.element(i);){if(di(i,t,n))return!0;i=Rt(i)}return!1}const jr={id:"dev-tools",install:Wr,listeners:{"interactions:action-start":(e,t)=>{let{interaction:n}=e;for(const i of fi){const o=n.interactable&&n.interactable.options;!(o&&o.devTools&&o.devTools.ignore[i.name])&&i.perform(n)&&t.logger.warn(on+i.text,...i.getInfo(n))}}},checks:fi,CheckName:fe,links:rn,prefix:on};It.use(jr);function Xr(){const{appContext:e,proxy:t}=g.getCurrentInstance(),n=e.config.globalProperties;return{proxy:t,appContext:e,globalProperties:n}}const Yr={name:"GridItem"},sn=g.defineComponent({...Yr,props:{isDraggable:{type:[Boolean,null],default:null},isResizable:{type:[Boolean,null],default:null},isBounded:{type:[Boolean,null],default:null},static:{type:Boolean,default:!1},minH:{default:1},minW:{default:1},maxH:{default:1/0},maxW:{default:1/0},x:{},y:{},w:{},h:{},i:{},dragIgnoreFrom:{default:"a, button"},dragAllowFrom:{default:null},resizeIgnoreFrom:{default:"a, button"},preserveAspectRatio:{type:Boolean,default:!1},dragOption:{default:()=>({})},resizeOption:{default:()=>({})}},emits:["container-resized","resize","resized","move","moved"],setup(e,{expose:t,emit:n}){const{proxy:i}=Xr(),o=i==null?void 0:i.$parent,r=g.inject("eventBus"),a=n,s=e,c=g.ref({}),l=g.ref(1),u=g.ref(100),d=g.ref(30),p=g.ref([10,10]),b=g.ref(1/0),w=g.ref(null),M=g.ref(null),y=g.ref(1),P=g.ref(!0),C=g.ref(!0),_=g.ref(!1),v=g.ref(null),h=g.ref(!1),z=g.ref(null),E=g.ref(NaN),H=g.ref(NaN),et=g.ref(NaN),L=g.ref(NaN),V=g.ref({}),k=g.ref(!1),x=g.ref(!1),A=g.ref(!1),B=g.ref(null),nt=g.ref(null),X=g.ref(null),Y=g.ref(null),I=g.ref(s.x),tt=g.ref(s.y),at=g.ref(s.w),it=g.ref(s.h),ct=g.ref(null),K=g.ref(null),Re=g.computed(()=>M.value&&!s.static),ln=g.computed(()=>(w.value||M.value)&&!s.static),cn=g.computed(()=>navigator.userAgent.toLowerCase().indexOf("android")!==-1),st=g.computed(()=>o!=null&&o.isMirrored?!k.value:k.value),T=g.computed(()=>({"vue-resizable":Re.value,static:s.static,resizing:h.value,"vue-draggable-dragging":_.value,cssTransforms:P.value,"render-rtl":st.value,"disable-userselect":_.value,"no-touch":cn.value&&ln.value})),$=g.computed(()=>st.value?"vue-resizable-handle vue-rtl-resizable-handle":"vue-resizable-handle");g.watch(()=>s.isDraggable,f=>{w.value=f}),g.watch(()=>s.static,()=>{Kt(),mt()}),g.watch(w,()=>{Kt()}),g.watch(()=>s.isResizable,f=>{M.value=f}),g.watch(()=>s.isBounded,f=>{ct.value=f}),g.watch(M,()=>{mt()}),g.watch(d,()=>{ot(),bt()}),g.watch(l,()=>{mt(),ot(),bt()}),g.watch(u,()=>{mt(),ot(),bt()}),g.watch(()=>s.x,f=>{I.value=f,ot()}),g.watch(()=>s.y,f=>{tt.value=f,ot()}),g.watch(()=>s.h,f=>{it.value=f,ot()}),g.watch(()=>s.w,f=>{at.value=f,ot()}),g.watch(st,()=>{mt(),ot()}),g.watch(()=>s.minH,()=>{mt()}),g.watch(()=>s.maxH,()=>{mt()}),g.watch(()=>s.minW,()=>{mt()}),g.watch(()=>s.maxW,()=>{mt()}),g.watch(()=>o==null?void 0:o.margin,f=>{!f||f[0]==p.value[0]&&f[1]==p.value[1]||(p.value=f.map(S=>Number(S)),ot(),bt())});function G(f){Ot(f)}function ht(f){He()}function wt(f){s.isDraggable===null&&(w.value=f)}function Ct(f){s.isResizable===null&&(M.value=f)}function _t(f){s.isBounded===null&&(ct.value=f)}function lt(f){y.value=f}function N(f){d.value=f}function ut(f){b.value=f}function Et(){k.value=Sn()==="rtl",He()}function pt(f){const S=f.toString();l.value=parseInt(S)}r.on("updateWidth",G),r.on("compact",ht),r.on("setDraggable",wt),r.on("setResizable",Ct),r.on("setBounded",_t),r.on("setTransformScale",lt),r.on("setRowHeight",N),r.on("setMaxRows",ut),r.on("directionchange",Et),r.on("setColNum",pt),k.value=Sn()==="rtl",g.onBeforeUnmount(()=>{r.off("updateWidth",G),r.off("compact",ht),r.off("setDraggable",wt),r.off("setResizable",Ct),r.off("setBounded",_t),r.off("setTransformScale",lt),r.off("setRowHeight",N),r.off("setMaxRows",ut),r.off("directionchange",Et),r.off("setColNum",pt),K.value&&K.value.unset()}),g.onMounted(()=>{o!=null&&o.responsive&&o.lastBreakpoint?l.value=Le(o.lastBreakpoint,o==null?void 0:o.cols):l.value=o==null?void 0:o.colNum,d.value=o==null?void 0:o.rowHeight,u.value=(o==null?void 0:o.width)!==null?o==null?void 0:o.width:100,p.value=(o==null?void 0:o.margin)!==void 0?o.margin:[10,10],b.value=o==null?void 0:o.maxRows,s.isDraggable===null?w.value=o==null?void 0:o.isDraggable:w.value=s.isDraggable,s.isResizable===null?M.value=o==null?void 0:o.isResizable:M.value=s.isResizable,s.isBounded===null?ct.value=o==null?void 0:o.isBounded:ct.value=s.isBounded,y.value=o==null?void 0:o.transformScale,P.value=o==null?void 0:o.useCssTransforms,C.value=o==null?void 0:o.useStyleCursor,ot()});function ot(){var W,F,R,q,Zt;s.x+s.w>l.value?(I.value=0,at.value=s.w>l.value?l.value:s.w):(I.value=s.x,at.value=s.w);let f=Ut(I.value,tt.value,at.value,it.value);_.value&&(f.top=(W=v.value)==null?void 0:W.top,st.value?f.right=(F=v.value)==null?void 0:F.left:f.left=(R=v.value)==null?void 0:R.left),h.value&&(f.width=(q=z.value)==null?void 0:q.width,f.height=(Zt=z.value)==null?void 0:Zt.height);let S;P.value?st.value?S=Oi(f.top,f.right,f.width,f.height):S=Pi(f.top,f.left,f.width,f.height):st.value?S=Ri(f.top,f.right,f.width,f.height):S=ki(f.top,f.left,f.width,f.height),V.value=S}function bt(){let f={};for(let S of["width","height"]){let F=V.value[S].match(/^(\d+)px$/);if(!F)return;f[S]=F[1]}a("container-resized",s.i,s.h,s.w,f.height,f.width)}function Ae(f){var S,W,F,R,q,Zt,pe,ge,me,ve,ye,vt,be,xt,yt;{if(s.static)return;const Nt=xn(f);if(Nt==null)return;const{x:St,y:Wt}=Nt,J={width:0,height:0};let j;switch(f.type){case"resizestart":{if(mt(),B.value=at.value,nt.value=it.value,j=Ut(I.value,tt.value,at.value,it.value),J.width=j.width,J.height=j.height,z.value=J,h.value=!0,f.edges.left){h.value=!1;let Z={...f};Z.clientX=Z.client.x,Z.clientY=Z.client.y,Z.type="dragstart",Dt(Z),h.value=!0}break}case"resizemove":{const Z=xe(et.value,L.value,St,Wt);if(f.edges.left&&(Z.deltaX=-Z.deltaX),f.edges.bottom&&!(f.edges.left||f.edges.right)?J.width=Number((S=z.value)==null?void 0:S.width):st.value?J.width=Number((W=z.value)==null?void 0:W.width)-Z.deltaX/y.value:J.width=Number((F=z.value)==null?void 0:F.width)+Z.deltaX/y.value,(f.edges.left||f.edges.right)&&!f.edges.bottom?J.height=Number((R=z.value)==null?void 0:R.height):J.height=Number((q=z.value)==null?void 0:q.height)+Z.deltaY/y.value,z.value=J,f.edges.left){h.value=!1;let dt={...f};dt.clientX=dt.client.x,dt.clientY=dt.client.y,dt.type="dragmove",Dt(dt),h.value=!0}break}case"resizeend":{const Z=xe(et.value,L.value,St,Wt);if(f.edges.bottom&&!(f.edges.left||f.edges.right)?J.width=Number((Zt=z.value)==null?void 0:Zt.width):st.value?J.width=Number((pe=z.value)==null?void 0:pe.width)-Z.deltaX/y.value:J.width=Number((ge=z.value)==null?void 0:ge.width)+Z.deltaX/y.value,(f.edges.left||f.edges.right)&&!f.edges.bottom?J.height=Number((me=z.value)==null?void 0:me.height):J.height=Number((ve=z.value)==null?void 0:ve.height)+Z.deltaY/y.value,z.value=null,h.value=!1,f.edges.left){let dt={...f};dt.clientX=dt.client.x,dt.clientY=dt.client.y,dt.type="dragend",Dt(dt)}break}}j=Pt(J.height,J.width),j.w<s.minW&&(j.w=s.minW),j.w>s.maxW&&(j.w=s.maxW),j.h<s.minH&&(j.h=s.minH),j.h>s.maxH&&(j.h=s.maxH),j.h<1&&(j.h=1),j.w<1&&(j.w=1),et.value=St,L.value=Wt;let ft={top:0,left:0};if(f.type=="resizestart"||f.type=="resizeend"){const Z=f.target;let dn=Z.offsetParent.getBoundingClientRect(),hn=Z.getBoundingClientRect();const Ts=hn.left/y.value,zs=dn.left/y.value,Is=hn.right/y.value,Ms=dn.right/y.value,Cs=hn.top/y.value,_s=dn.top/y.value;st.value?ft.left=(Is-Ms)*-1:ft.left=Ts-zs,ft.top=Cs-_s}else if(f.type=="resizemove"){const Z=xe(E.value,H.value,St,Wt);st.value?ft.left=Number((ye=v.value)==null?void 0:ye.left)-Z.deltaX/y.value:ft.left=Number((vt=v.value)==null?void 0:vt.left)+Z.deltaX/y.value,(be=f==null?void 0:f.edges)!=null&&be.left?ft.top=Number((xt=v.value)==null?void 0:xt.top):ft.top=Number((yt=v.value)==null?void 0:yt.top)+Z.deltaY/y.value}let fn;st.value,fn=Lt(ft.top,ft.left),I.value=fn.x,(at.value!==j.w||it.value!==j.h)&&(a("resize",s.i,j.h,j.w,J.height,J.width,I.value,tt.value,X.value,Y.value,f.interaction.prepared.edges),X.value=I.value,Y.value=tt.value),f.type==="resizeend"&&(a("resized",s.i,j.h,j.w,J.height,J.width,I.value,tt.value,X.value,Y.value,f.interaction.prepared.edges),X.value=I.value,Y.value=tt.value);const Ss={eventType:f.type,i:s.i,x:I.value,y:tt.value,h:j.h,w:j.w};r.emit("resizeEvent",Ss)}}function Dt(f){var pe,ge,me,ve,ye;if(s.static||h.value)return;const S=xn(f);if(S===null)return;const{x:W,y:F}=S;let R={top:0,left:0};switch(f.type){case"dragstart":{X.value=I.value,Y.value=tt.value;const vt=f.target;let xt=vt.offsetParent.getBoundingClientRect(),yt=vt.getBoundingClientRect();const Nt=yt.left/y.value,St=xt.left/y.value,Wt=yt.right/y.value,J=xt.right/y.value,j=yt.top/y.value,ft=xt.top/y.value;st.value?R.left=(Wt-J)*-1:R.left=Nt-St,R.top=j-ft,v.value=R,_.value=!0;break}case"dragend":{if(!_.value)return;const vt=f.target;let xt=vt.offsetParent.getBoundingClientRect(),yt=vt.getBoundingClientRect();const Nt=yt.left/y.value,St=xt.left/y.value,Wt=yt.right/y.value,J=xt.right/y.value,j=yt.top/y.value,ft=xt.top/y.value;st.value?R.left=(Wt-J)*-1:R.left=Nt-St,R.top=j-ft,v.value=null,_.value=!1;break}case"dragmove":{const vt=xe(E.value,H.value,W,F);if(st.value?R.left=Number((pe=v.value)==null?void 0:pe.left)-vt.deltaX/y.value:R.left=Number((ge=v.value)==null?void 0:ge.left)+vt.deltaX/y.value,(me=f==null?void 0:f.edges)!=null&&me.left?R.top=Number((ve=v.value)==null?void 0:ve.top):R.top=Number((ye=v.value)==null?void 0:ye.top)+vt.deltaY/y.value,ct.value){const yt=f.target.offsetParent.clientHeight-rt(s.h,d.value,p.value[1]);R.top=gt(R.top,0,yt);const Nt=Vt(),St=u.value-rt(s.w,Nt,p.value[0]);R.left=gt(R.left,0,St)}v.value=R;break}}let q;st.value,q=Lt(R.top,R.left),E.value=W,H.value=F,(I.value!==q.x||tt.value!==q.y)&&a("move",s.i,q.x,q.y),f.type==="dragend"&&(X.value!==I.value||Y.value!==tt.value)&&a("moved",s.i,q.x,q.y);const Zt={eventType:f.type,i:s.i,x:q.x,y:q.y,h:it.value,w:at.value};r.emit("dragEvent",Zt)}function Ut(f,S,W,F){const R=Vt();let q;return st.value?q={right:Math.round(R*f+(f+1)*p.value[0]),top:Math.round(d.value*S+(S+1)*p.value[1]),width:W===1/0?W:Math.round(R*W+Math.max(0,W-1)*p.value[0]),height:F===1/0?F:Math.round(d.value*F+Math.max(0,F-1)*p.value[1])}:q={left:Math.round(R*f+(f+1)*p.value[0]),top:Math.round(d.value*S+(S+1)*p.value[1]),width:W===1/0?W:Math.round(R*W+Math.max(0,W-1)*p.value[0]),height:F===1/0?F:Math.round(d.value*F+Math.max(0,F-1)*p.value[1])},q}function Lt(f,S){const W=Vt();let F=Math.round((S-p.value[0])/(W+p.value[0])),R=Math.round((f-p.value[1])/(d.value+p.value[1]));return F=Math.max(Math.min(F,l.value-at.value),0),R=Math.max(Math.min(R,b.value-it.value),0),{x:F,y:R}}function Vt(){return(u.value-p.value[0]*(l.value+1))/l.value}function rt(f,S,W){return Number.isFinite(f)?Math.round(S*f+Math.max(0,f-1)*W):f}function gt(f,S,W){return Math.max(Math.min(f,W),S)}function Pt(f,S,W=!1){const F=Vt();let R=Math.round((S+p.value[0])/(F+p.value[0])),q=0;return W?q=Math.ceil((f+p.value[1])/(d.value+p.value[1])):q=Math.round((f+p.value[1])/(d.value+p.value[1])),R=Math.max(Math.min(R,l.value-I.value),0),q=Math.max(Math.min(q,b.value-tt.value),0),{w:R,h:q}}function Ot(f,S){u.value=f,S!=null&&(l.value=S)}function He(f){ot()}function Kt(){if((K.value===null||K.value===void 0)&&(K.value=It(c.value),C.value||K.value.styleCursor(!1)),w.value&&!s.static){const f={ignoreFrom:s.dragIgnoreFrom,allowFrom:s.dragAllowFrom,...s.dragOption};K.value.draggable(f),x.value||(x.value=!0,K.value.on("dragstart dragmove dragend",function(S){Dt(S)}))}else K.value.draggable({enabled:!1})}function mt(){if((K.value===null||K.value===void 0)&&(K.value=It(c.value),C.value||K.value.styleCursor(!1)),M.value&&!s.static){let f=Ut(0,0,s.maxW,s.maxH),S=Ut(0,0,s.minW,s.minH);const W={edges:{left:!0,right:!0,bottom:!0,top:!1},ignoreFrom:s.resizeIgnoreFrom,restrictSize:{min:{height:S.height*y.value,width:S.width*y.value},max:{height:f.height*y.value,width:f.width*y.value}},...s.resizeOption};s.preserveAspectRatio&&(W.modifiers=[It.modifiers.aspectRatio({ratio:"preserve"})]),K.value.resizable(W),A.value||(A.value=!0,K.value.on("resizestart resizemove resizeend",function(F){Ae(F)}))}else K.value.resizable({enabled:!1})}const Jt=g.useSlots();function un(){B.value=at.value,nt.value=it.value;let f=Jt==null?void 0:Jt.default[0].elm.getBoundingClientRect(),S=Pt(f.height,f.width,!0);if(S.w<s.minW&&(S.w=s.minW),S.w>s.maxW&&(S.w=s.maxW),S.h<s.minH&&(S.h=s.minH),S.h>s.maxH&&(S.h=s.maxH),S.h<1&&(S.h=1),S.w<1&&(S.w=1),(at.value!==S.w||it.value!==S.h)&&a("resize",s.i,S.h,S.w,f.height,f.width),B.value!==S.w||nt.value!==S.h){a("resized",s.i,S.h,S.w,f.height,f.width);const W={eventType:"resizeend",i:s.i,x:I.value,y:tt.value,h:S.h,w:S.w};r.emit("resizeEvent",W)}}return t({autoSize:un,calcXY:Lt,dragging:v,...s,styleObj:V}),(f,S)=>(g.openBlock(),g.createElementBlock("div",{ref_key:"this$refsItem",ref:c,class:g.normalizeClass(["vue-grid-item",T.value]),style:g.normalizeStyle(V.value)},[g.renderSlot(f.$slots,"default",{style:g.normalizeStyle(V.value)}),Re.value?(g.openBlock(),g.createElementBlock("span",{key:0,ref:"handle",class:g.normalizeClass($.value)},null,2)):g.createCommentVNode("",!0)],6))}});function Gr(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(o){o(n)}),(i=e.get("*"))&&i.slice().map(function(o){o(t,n)})}}}function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hi={exports:{}},Ur=hi.exports={};Ur.forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}};var pi=hi.exports,Vr=function(e){var t=e.stateHandler.getState;function n(a){var s=t(a);return s&&!!s.isDetectable}function i(a){t(a).isDetectable=!0}function o(a){return!!t(a).busy}function r(a,s){t(a).busy=!!s}return{isDetectable:n,markAsDetectable:i,isBusy:o,markBusy:r}},Kr=function(e){var t={};function n(a){var s=e.get(a);return s===void 0?[]:t[s]||[]}function i(a,s){var c=e.get(a);t[c]||(t[c]=[]),t[c].push(s)}function o(a,s){for(var c=n(a),l=0,u=c.length;l<u;++l)if(c[l]===s){c.splice(l,1);break}}function r(a){var s=n(a);s&&(s.length=0)}return{get:n,add:i,removeListener:o,removeAllListeners:r}},Jr=function(){var e=1;function t(){return e++}return{generate:t}},Zr=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function i(r){var a=n(r);return a&&a.id!==void 0?a.id:null}function o(r){var a=n(r);if(!a)throw new Error("setId required the element to have a resize detection state.");var s=t.generate();return a.id=s,s}return{get:i,set:o}},Qr=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(o,r){o[r]=function(){var s=console[r];if(s.apply)s.apply(console,arguments);else for(var c=0;c<arguments.length;c++)s(arguments[c])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n},gi={exports:{}},mi=gi.exports={};mi.isIE=function(e){function t(){var i=navigator.userAgent.toLowerCase();return i.indexOf("msie")!==-1||i.indexOf("trident")!==-1||i.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var i,o=3,r=document.createElement("div"),a=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++o+"]><i></i><![endif]-->";while(a[0]);return o>4?o:i}();return e===n},mi.isLegacyOpera=function(){return!!window.opera};var vi=gi.exports,yi={exports:{}},ts=yi.exports={};ts.getOption=es;function es(e,t,n){var i=e[t];return i==null&&n!==void 0?n:i}var ns=yi.exports,bi=ns,is=function(t){t=t||{};var n=t.reporter,i=bi.getOption(t,"async",!0),o=bi.getOption(t,"auto",!0);o&&!i&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),i=!0);var r=xi(),a,s=!1;function c(w,M){!s&&o&&i&&r.size()===0&&d(),r.add(w,M)}function l(){for(s=!0;r.size();){var w=r;r=xi(),w.process()}s=!1}function u(w){s||(w===void 0&&(w=i),a&&(p(a),a=null),w?d():l())}function d(){a=b(l)}function p(w){var M=clearTimeout;return M(w)}function b(w){var M=function(y){return setTimeout(y,0)};return M(w)}return{add:c,force:u}};function xi(){var e={},t=0,n=0,i=0;function o(s,c){c||(c=s,s=0),s>n?n=s:s<i&&(i=s),e[s]||(e[s]=[]),e[s].push(c),t++}function r(){for(var s=i;s<=n;s++)for(var c=e[s],l=0;l<c.length;l++){var u=c[l];u()}}function a(){return t}return{add:o,process:r,size:a}}var an="_erd";function os(e){return e[an]={},wi(e)}function wi(e){return e[an]}function rs(e){delete e[an]}var ss={initState:os,getState:wi,cleanState:rs},de=vi,as=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(l,u){function d(){u(l)}if(de.isIE(8))i(l).object={proxy:d},l.attachEvent("onresize",d);else{var p=s(l);if(!p)throw new Error("Element is not detectable by this strategy.");p.contentDocument.defaultView.addEventListener("resize",d)}}function r(l){var u=e.important?" !important; ":"; ";return(l.join(u)+u).trim()}function a(l,u,d){d||(d=u,u=l,l=null),l=l||{},l.debug;function p(b,w){var M=r(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),y=!1,P=window.getComputedStyle(b),C=b.offsetWidth,_=b.offsetHeight;i(b).startSize={width:C,height:_};function v(){function h(){if(P.position==="static"){b.style.setProperty("position","relative",l.important?"important":"");var H=function(et,L,V,k){function x(B){return B.replace(/[^-\d\.]/g,"")}var A=V[k];A!=="auto"&&x(A)!=="0"&&(et.warn("An element that is positioned static has style."+k+"="+A+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+k+" will be set to 0. Element: ",L),L.style.setProperty(k,"0",l.important?"important":""))};H(t,b,P,"top"),H(t,b,P,"right"),H(t,b,P,"bottom"),H(t,b,P,"left")}}function z(){y||h();function H(L,V){if(!L.contentDocument){var k=i(L);k.checkForObjectDocumentTimeoutId&&window.clearTimeout(k.checkForObjectDocumentTimeoutId),k.checkForObjectDocumentTimeoutId=setTimeout(function(){k.checkForObjectDocumentTimeoutId=0,H(L,V)},100);return}V(L.contentDocument)}var et=this;H(et,function(V){w(b)})}P.position!==""&&(h(),y=!0);var E=document.createElement("object");E.style.cssText=M,E.tabIndex=-1,E.type="text/html",E.setAttribute("aria-hidden","true"),E.onload=z,de.isIE()||(E.data="about:blank"),i(b)&&(b.appendChild(E),i(b).object=E,de.isIE()&&(E.data="about:blank"))}n?n.add(v):v()}de.isIE(8)?d(u):p(u,d)}function s(l){return i(l).object}function c(l){if(i(l)){var u=s(l);u&&(de.isIE(8)?l.detachEvent("onresize",u.proxy):l.removeChild(u),i(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(l).checkForObjectDocumentTimeoutId),delete i(l).object)}}return{makeDetectable:a,addListener:o,uninstall:c}},ls=pi.forEach,cs=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,i=e.stateHandler.getState;e.stateHandler.hasState;var o=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var r=u(),a="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";function c(v){d(v,a,s)}c(window.document);function l(v){var h=e.important?" !important; ":"; ";return(v.join(h)+h).trim()}function u(){var v=500,h=500,z=document.createElement("div");z.style.cssText=l(["position: absolute","width: "+v*2+"px","height: "+h*2+"px","visibility: hidden","margin: 0","padding: 0"]);var E=document.createElement("div");E.style.cssText=l(["position: absolute","width: "+v+"px","height: "+h+"px","overflow: scroll","visibility: none","top: "+-v*3+"px","left: "+-h*3+"px","visibility: hidden","margin: 0","padding: 0"]),E.appendChild(z),document.body.insertBefore(E,document.body.firstChild);var H=v-E.clientWidth,et=h-E.clientHeight;return document.body.removeChild(E),{width:H,height:et}}function d(v,h,z){function E(V,k){k=k||function(A){v.head.appendChild(A)};var x=v.createElement("style");return x.innerHTML=V,x.id=h,k(x),x}if(!v.getElementById(h)){var H=z+"_animation",et=z+"_animation_active",L=`/* Created by the element-resize-detector library. */
`;L+="."+z+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,L+="."+et+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+H,"animation-name: "+H])+` }
`,L+="@-webkit-keyframes "+H+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,L+="@keyframes "+H+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",E(L)}}function p(v){v.className+=" "+s+"_animation_active"}function b(v,h,z){if(v.addEventListener)v.addEventListener(h,z);else if(v.attachEvent)v.attachEvent("on"+h,z);else return t.error("[scroll] Don't know how to add event listeners.")}function w(v,h,z){if(v.removeEventListener)v.removeEventListener(h,z);else if(v.detachEvent)v.detachEvent("on"+h,z);else return t.error("[scroll] Don't know how to remove event listeners.")}function M(v){return i(v).container.childNodes[0].childNodes[0].childNodes[0]}function y(v){return i(v).container.childNodes[0].childNodes[0].childNodes[1]}function P(v,h){var z=i(v).listeners;if(!z.push)throw new Error("Cannot add listener to an element that is not detectable.");i(v).listeners.push(h)}function C(v,h,z){z||(z=h,h=v,v=null),v=v||{};function E(){if(v.debug){var T=Array.prototype.slice.call(arguments);if(T.unshift(o.get(h),"Scroll: "),t.log.apply)t.log.apply(null,T);else for(var $=0;$<T.length;$++)t.log(T[$])}}function H(T){function $(G){var ht=G.getRootNode&&G.getRootNode().contains(G);return G===G.ownerDocument.body||G.ownerDocument.body.contains(G)||ht}return!$(T)||window.getComputedStyle(T)===null}function et(T){var $=i(T).container.childNodes[0],G=window.getComputedStyle($);return!G.width||G.width.indexOf("px")===-1}function L(){var T=window.getComputedStyle(h),$={};return $.position=T.position,$.width=h.offsetWidth,$.height=h.offsetHeight,$.top=T.top,$.right=T.right,$.bottom=T.bottom,$.left=T.left,$.widthCSS=T.width,$.heightCSS=T.height,$}function V(){var T=L();i(h).startSize={width:T.width,height:T.height},E("Element start size",i(h).startSize)}function k(){i(h).listeners=[]}function x(){if(E("storeStyle invoked."),!i(h)){E("Aborting because element has been uninstalled");return}var T=L();i(h).style=T}function A(T,$,G){i(T).lastWidth=$,i(T).lastHeight=G}function B(T){return M(T).childNodes[0]}function nt(){return 2*r.width+1}function X(){return 2*r.height+1}function Y(T){return T+10+nt()}function I(T){return T+10+X()}function tt(T){return T*2+nt()}function at(T){return T*2+X()}function it(T,$,G){var ht=M(T),wt=y(T),Ct=Y($),_t=I(G),lt=tt($),N=at(G);ht.scrollLeft=Ct,ht.scrollTop=_t,wt.scrollLeft=lt,wt.scrollTop=N}function ct(){var T=i(h).container;if(!T){T=document.createElement("div"),T.className=s,T.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(h).container=T,p(T),h.appendChild(T);var $=function(){i(h).onRendered&&i(h).onRendered()};b(T,"animationstart",$),i(h).onAnimationStart=$}return T}function K(){function T(){var rt=i(h).style;if(rt.position==="static"){h.style.setProperty("position","relative",v.important?"important":"");var gt=function(Pt,Ot,He,Kt){function mt(un){return un.replace(/[^-\d\.]/g,"")}var Jt=He[Kt];Jt!=="auto"&&mt(Jt)!=="0"&&(Pt.warn("An element that is positioned static has style."+Kt+"="+Jt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Kt+" will be set to 0. Element: ",Ot),Ot.style[Kt]=0)};gt(t,h,rt,"top"),gt(t,h,rt,"right"),gt(t,h,rt,"bottom"),gt(t,h,rt,"left")}}function $(rt,gt,Pt,Ot){return rt=rt?rt+"px":"0",gt=gt?gt+"px":"0",Pt=Pt?Pt+"px":"0",Ot=Ot?Ot+"px":"0",["left: "+rt,"top: "+gt,"right: "+Ot,"bottom: "+Pt]}if(E("Injecting elements"),!i(h)){E("Aborting because element has been uninstalled");return}T();var G=i(h).container;G||(G=ct());var ht=r.width,wt=r.height,Ct=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),_t=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat($(-(1+ht),-(1+wt),-wt,-ht))),lt=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),N=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ut=l(["position: absolute","left: 0","top: 0"]),Et=l(["position: absolute","width: 200%","height: 200%"]),pt=document.createElement("div"),ot=document.createElement("div"),bt=document.createElement("div"),Ae=document.createElement("div"),Dt=document.createElement("div"),Ut=document.createElement("div");pt.dir="ltr",pt.style.cssText=Ct,pt.className=s,ot.className=s,ot.style.cssText=_t,bt.style.cssText=lt,Ae.style.cssText=ut,Dt.style.cssText=N,Ut.style.cssText=Et,bt.appendChild(Ae),Dt.appendChild(Ut),ot.appendChild(bt),ot.appendChild(Dt),pt.appendChild(ot),G.appendChild(pt);function Lt(){var rt=i(h);rt&&rt.onExpand?rt.onExpand():E("Aborting expand scroll handler: element has been uninstalled")}function Vt(){var rt=i(h);rt&&rt.onShrink?rt.onShrink():E("Aborting shrink scroll handler: element has been uninstalled")}b(bt,"scroll",Lt),b(Dt,"scroll",Vt),i(h).onExpandScroll=Lt,i(h).onShrinkScroll=Vt}function Re(){function T(lt,N,ut){var Et=B(lt),pt=Y(N),ot=I(ut);Et.style.setProperty("width",pt+"px",v.important?"important":""),Et.style.setProperty("height",ot+"px",v.important?"important":"")}function $(lt){var N=h.offsetWidth,ut=h.offsetHeight,Et=N!==i(h).lastWidth||ut!==i(h).lastHeight;E("Storing current size",N,ut),A(h,N,ut),n.add(0,function(){if(Et){if(!i(h)){E("Aborting because element has been uninstalled");return}if(!G()){E("Aborting because element container has not been initialized");return}if(v.debug){var ot=h.offsetWidth,bt=h.offsetHeight;(ot!==N||bt!==ut)&&t.warn(o.get(h),"Scroll: Size changed before updating detector elements.")}T(h,N,ut)}}),n.add(1,function(){if(!i(h)){E("Aborting because element has been uninstalled");return}if(!G()){E("Aborting because element container has not been initialized");return}it(h,N,ut)}),Et&&lt&&n.add(2,function(){if(!i(h)){E("Aborting because element has been uninstalled");return}if(!G()){E("Aborting because element container has not been initialized");return}lt()})}function G(){return!!i(h).container}function ht(){function lt(){return i(h).lastNotifiedWidth===void 0}E("notifyListenersIfNeeded invoked");var N=i(h);if(lt()&&N.lastWidth===N.startSize.width&&N.lastHeight===N.startSize.height)return E("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(N.lastWidth===N.lastNotifiedWidth&&N.lastHeight===N.lastNotifiedHeight)return E("Not notifying: Size already notified");E("Current size not notified, notifying..."),N.lastNotifiedWidth=N.lastWidth,N.lastNotifiedHeight=N.lastHeight,ls(i(h).listeners,function(ut){ut(h)})}function wt(){if(E("startanimation triggered."),et(h)){E("Ignoring since element is still unrendered...");return}E("Element rendered.");var lt=M(h),N=y(h);(lt.scrollLeft===0||lt.scrollTop===0||N.scrollLeft===0||N.scrollTop===0)&&(E("Scrollbars out of sync. Updating detector elements..."),$(ht))}function Ct(){if(E("Scroll detected."),et(h)){E("Scroll event fired while unrendered. Ignoring...");return}$(ht)}if(E("registerListenersAndPositionElements invoked."),!i(h)){E("Aborting because element has been uninstalled");return}i(h).onRendered=wt,i(h).onExpand=Ct,i(h).onShrink=Ct;var _t=i(h).style;T(h,_t.width,_t.height)}function ln(){if(E("finalizeDomMutation invoked."),!i(h)){E("Aborting because element has been uninstalled");return}var T=i(h).style;A(h,T.width,T.height),it(h,T.width,T.height)}function cn(){z(h)}function st(){E("Installing..."),k(),V(),n.add(0,x),n.add(1,K),n.add(2,Re),n.add(3,ln),n.add(4,cn)}E("Making detectable..."),H(h)?(E("Element is detached"),ct(),E("Waiting until element is attached..."),i(h).onRendered=function(){E("Element is now attached"),st()}):st()}function _(v){var h=i(v);h&&(h.onExpandScroll&&w(M(v),"scroll",h.onExpandScroll),h.onShrinkScroll&&w(y(v),"scroll",h.onShrinkScroll),h.onAnimationStart&&w(h.container,"animationstart",h.onAnimationStart),h.container&&v.removeChild(h.container))}return{makeDetectable:C,addListener:P,uninstall:_,initDocument:c}},he=pi.forEach,us=Vr,fs=Kr,ds=Jr,hs=Zr,ps=Qr,Ei=vi,gs=is,Bt=ss,ms=as,vs=cs;function Si(e){return Array.isArray(e)||e.length!==void 0}function Ti(e){if(Array.isArray(e))return e;var t=[];return he(e,function(n){t.push(n)}),t}function zi(e){return e&&e.nodeType===1}var ys=function(e){e=e||{};var t;if(e.idHandler)t={get:function(C){return e.idHandler.get(C,!0)},set:e.idHandler.set};else{var n=ds(),i=hs({idGenerator:n,stateHandler:Bt});t=i}var o=e.reporter;if(!o){var r=o===!1;o=ps(r)}var a=$t(e,"batchProcessor",gs({reporter:o})),s={};s.callOnAdd=!!$t(e,"callOnAdd",!0),s.debug=!!$t(e,"debug",!1);var c=fs(t),l=us({stateHandler:Bt}),u,d=$t(e,"strategy","object"),p=$t(e,"important",!1),b={reporter:o,batchProcessor:a,stateHandler:Bt,idHandler:t,important:p};if(d==="scroll"&&(Ei.isLegacyOpera()?(o.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):Ei.isIE(9)&&(o.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")u=vs(b);else if(d==="object")u=ms(b);else throw new Error("Invalid strategy name: "+d);var w={};function M(C,_,v){function h(V){var k=c.get(V);he(k,function(A){A(V)})}function z(V,k,x){c.add(k,x),V&&x(k)}if(v||(v=_,_=C,C={}),!_)throw new Error("At least one element required.");if(!v)throw new Error("Listener required.");if(zi(_))_=[_];else if(Si(_))_=Ti(_);else return o.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var E=0,H=$t(C,"callOnAdd",s.callOnAdd),et=$t(C,"onReady",function(){}),L=$t(C,"debug",s.debug);he(_,function(k){Bt.getState(k)||(Bt.initState(k),t.set(k));var x=t.get(k);if(L&&o.log("Attaching listener to element",x,k),!l.isDetectable(k)){if(L&&o.log(x,"Not detectable."),l.isBusy(k)){L&&o.log(x,"System busy making it detectable"),z(H,k,v),w[x]=w[x]||[],w[x].push(function(){E++,E===_.length&&et()});return}return L&&o.log(x,"Making detectable..."),l.markBusy(k,!0),u.makeDetectable({debug:L,important:p},k,function(B){if(L&&o.log(x,"onElementDetectable"),Bt.getState(B)){l.markAsDetectable(B),l.markBusy(B,!1),u.addListener(B,h),z(H,B,v);var nt=Bt.getState(B);if(nt&&nt.startSize){var X=B.offsetWidth,Y=B.offsetHeight;(nt.startSize.width!==X||nt.startSize.height!==Y)&&h(B)}w[x]&&he(w[x],function(I){I()})}else L&&o.log(x,"Element uninstalled before being detectable.");delete w[x],E++,E===_.length&&et()})}L&&o.log(x,"Already detecable, adding listener."),z(H,k,v),E++}),E===_.length&&et()}function y(C){if(!C)return o.error("At least one element is required.");if(zi(C))C=[C];else if(Si(C))C=Ti(C);else return o.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");he(C,function(_){c.removeAllListeners(_),u.uninstall(_),Bt.cleanState(_)})}function P(C){u.initDocument&&u.initDocument(C)}return{listenTo:M,removeListener:c.removeListener,removeAllListeners:c.removeAllListeners,uninstall:y,initDocument:P}};function $t(e,t,n){var i=e[t];return i==null&&n!==void 0?n:i}const bs=qr(ys),xs={name:"GridLayout"},Ii=g.defineComponent({...xs,props:{autoSize:{type:Boolean,default:!0},colNum:{default:12},rowHeight:{default:100},maxRows:{default:1/0},margin:{default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{},responsive:{type:Boolean,default:!1},responsiveLayouts:{default:()=>({})},transformScale:{default:1},breakpoints:{default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-created","layout-before-mount","layout-mounted","layout-updated","layout-ready","update:layout","breakpoint-changed"],setup(e,{expose:t,emit:n}){const i=e,o=g.ref(null),r=g.ref({}),a=g.ref(0),s=g.ref(!1),c=g.ref({x:0,y:0,w:0,h:0,i:-1}),l=g.ref({}),u=g.ref(null),d=g.ref(null),p=g.ref(null),b=g.ref(),w=g.ref({}),M=g.ref(),y=Gr();g.provide("eventBus",y);const P=n;function C(x){if(!x)et();else{const{eventType:A,i:B,x:nt,y:X,h:Y,w:I}=x;et(A,B,nt,X,Y,I)}}function _(x){if(!x)H();else{const{eventType:A,i:B,x:nt,y:X,h:Y,w:I}=x;H(A,B,nt,X,Y,I)}}y.on("resizeEvent",C),y.on("dragEvent",_),P("layout-created",i.layout),g.onBeforeUnmount(()=>{y.off("resizeEvent",C),y.off("dragEvent",_),ji("resize",z),p.value&&p.value.uninstall(w.value)}),g.onBeforeMount(()=>{P("layout-before-mount",i.layout)}),g.onMounted(()=>{P("layout-mounted",i.layout),g.nextTick(function(){Ai(i.layout),d.value=i.layout,g.nextTick(()=>{V(),z(),Fi("resize",z),Qt(i.layout,i.verticalCompact),P("layout-updated",i.layout),h(),g.nextTick(()=>{p.value=bs({strategy:"scroll",callOnAdd:!1}),p.value.listenTo(w.value,function(){z()})})})})}),g.watch(o,(x,A)=>{g.nextTick(()=>{y.emit("updateWidth",x),A===null&&g.nextTick(()=>{P("layout-ready",i.layout)}),h()})}),g.watch(()=>i.layout,()=>{v()}),g.watch(()=>i.layout.length,()=>{v()}),g.watch(()=>i.colNum,x=>{y.emit("setColNum",x)}),g.watch(()=>i.rowHeight,x=>{y.emit("setRowHeight",x)}),g.watch(()=>i.isDraggable,x=>{y.emit("setDraggable",x)}),g.watch(()=>i.isResizable,x=>{y.emit("setResizable",x)}),g.watch(()=>i.isBounded,x=>{y.emit("setBounded",x)}),g.watch(()=>i.transformScale,x=>{y.emit("setTransformScale",x)}),g.watch(()=>i.responsive,x=>{x||(P("update:layout",d.value||[]),y.emit("setColNum",i.colNum)),z()}),g.watch(()=>i.maxRows,x=>{y.emit("setMaxRows",x)}),g.watch(()=>i.margin,()=>{h()});function v(){if(i.layout!==void 0&&d.value!==null){if(i.layout.length!==d.value.length){let x=k(i.layout,d.value);x.length>0&&(i.layout.length>d.value.length?d.value=d.value.concat(x):d.value=d.value.filter(A=>!x.some(B=>A.i===B.i))),a.value=i.layout.length,V()}Qt(i.layout,i.verticalCompact),y.emit("updateWidth",o.value),h(),P("layout-updated",i.layout)}}function h(){r.value={height:E()}}function z(){w.value!==null&&w.value!==void 0&&(o.value=w.value.offsetWidth),y.emit("resizeEvent")}function E(){return i.autoSize?Mi(i.layout)*(i.rowHeight+i.margin[1])+i.margin[1]+"px":""}function H(x,A,B,nt,X,Y){let I=gn(i.layout,A);I==null&&(I={x:0,y:0}),x==="dragstart"&&!i.verticalCompact&&(b.value=i.layout.reduce((at,{i:it,x:ct,y:K})=>({...at,[it]:{x:ct,y:K}}),{})),x==="dragmove"||x==="dragstart"?(c.value.i=A,c.value.x=I.x,c.value.y=I.y,c.value.w=Y,c.value.h=X,g.nextTick(function(){s.value=!0}),y.emit("updateWidth",o.value)):g.nextTick(function(){s.value=!1});const tt=$e(i.layout,I,B,nt,!0,i.preventCollision);P("update:layout",tt),i.restoreOnDrag?(I.static=!0,Qt(i.layout,i.verticalCompact,b.value),I.static=!1):Qt(i.layout,i.verticalCompact),y.emit("compact"),h(),x==="dragend"&&(b.value=void 0,P("layout-updated",tt))}function et(x,A,B,nt,X,Y){let I=gn(i.layout,A);I==null&&(I={h:0,w:0}),Y=Number(Y),X=Number(X);let tt;if(i.preventCollision){const at=mn(i.layout,{...I,w:Y,h:X}).filter(it=>it.i!==(I==null?void 0:I.i));if(tt=at.length>0,tt){let it=1/0,ct=1/0;at.forEach(K=>{K.x>Number(I==null?void 0:I.x)&&(it=Math.min(it,K.x)),K.y>Number(I==null?void 0:I.y)&&(ct=Math.min(ct,K.y))}),Number.isFinite(it)&&(I.w=it-I.x),Number.isFinite(ct)&&(I.h=ct-I.y)}}tt||(I.w=Y,I.h=X),x==="resizestart"||x==="resizemove"?(c.value.i=A,c.value.x=B,c.value.y=nt,c.value.w=I.w,c.value.h=I.h,g.nextTick(function(){s.value=!0}),y.emit("updateWidth",o.value)):g.nextTick(function(){s.value=!1}),i.responsive&&L(),Qt(i.layout,i.verticalCompact),y.emit("compact"),h(),x==="resizeend"&&P("layout-updated",i.layout)}function L(){let x=$i(i.breakpoints,o.value),A=Le(x,i.cols);u.value!=null&&!l.value[u.value]&&(l.value[u.value]=Be(i.layout));let B=Li(d.value,l.value,i.breakpoints,x,u.value,A,i.verticalCompact);l.value[x]=B,u.value!==x&&P("breakpoint-changed",x,B),P("update:layout",B),u.value=x,y.emit("setColNum",Le(x,i.cols))}function V(){l.value=Object.assign({},i.responsiveLayouts)}function k(x,A){let B=x.filter(function(X){return!A.some(function(Y){return X.i===Y.i})}),nt=A.filter(function(X){return!x.some(function(Y){return X.i===Y.i})});return B.concat(nt)}return t({...i,width:o,mergeStyle:r,lastLayoutLength:a,isDragging:s,placeholder:c,layouts:l,lastBreakpoint:u,originalLayout:d,erd:p,defaultGridItem:M,dragEvent:H}),(x,A)=>(g.openBlock(),g.createElementBlock("div",{ref_key:"this$refsLayout",ref:w,class:"vue-grid-layout",style:g.normalizeStyle(r.value)},[g.renderSlot(x.$slots,"default"),g.withDirectives(g.createVNode(sn,{ref_key:"defaultGridItem",ref:M,class:"vue-grid-placeholder",x:c.value.x,y:c.value.y,w:c.value.w,h:c.value.h,i:c.value.i},null,8,["x","y","w","h","i"]),[[g.vShow,s.value]])],4))}}),ws=[Ii,sn],Es={install(e){ws.forEach(t=>{e.component(t.name,t)})}};Tt.GridItem=sn,Tt.GridLayout=Ii,Tt.default=Es,Object.defineProperties(Tt,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
